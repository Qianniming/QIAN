"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/health/route";
exports.ids = ["app/api/health/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhealth%2Froute&page=%2Fapi%2Fhealth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhealth%2Froute.ts&appDir=E%3A%5Cnanuk%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cnanuk&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhealth%2Froute&page=%2Fapi%2Fhealth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhealth%2Froute.ts&appDir=E%3A%5Cnanuk%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cnanuk&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_nanuk_src_app_api_health_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/health/route.ts */ \"(rsc)/./src/app/api/health/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/health/route\",\n        pathname: \"/api/health\",\n        filename: \"route\",\n        bundlePath: \"app/api/health/route\"\n    },\n    resolvedPagePath: \"E:\\\\nanuk\\\\src\\\\app\\\\api\\\\health\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_nanuk_src_app_api_health_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/health/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZoZWFsdGglMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmhlYWx0aCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmhlYWx0aCUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDbmFudWslNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUUlM0ElNUNuYW51ayZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDTjtBQUN2RTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3dlbGwtbGktY2FzZXMvPzYyODQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRTpcXFxcbmFudWtcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcaGVhbHRoXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9oZWFsdGgvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9oZWFsdGhcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2hlYWx0aC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkU6XFxcXG5hbnVrXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGhlYWx0aFxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvaGVhbHRoL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhealth%2Froute&page=%2Fapi%2Fhealth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhealth%2Froute.ts&appDir=E%3A%5Cnanuk%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cnanuk&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/health/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/health/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n\n\nasync function GET(request) {\n    try {\n        // Check database connectivity\n        const dbHealthy = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.testConnection)(1) // Single retry for health check\n        ;\n        // Check basic application health\n        const appHealthy = true // Add more checks as needed\n        ;\n        const health = {\n            status: dbHealthy && appHealthy ? \"healthy\" : \"unhealthy\",\n            timestamp: new Date().toISOString(),\n            checks: {\n                database: dbHealthy ? \"ok\" : \"error\",\n                application: appHealthy ? \"ok\" : \"error\"\n            },\n            version: process.env.npm_package_version || \"1.0.0\",\n            environment: \"development\" || 0\n        };\n        const status = health.status === \"healthy\" ? 200 : 503;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(health, {\n            status,\n            headers: {\n                \"Cache-Control\": \"no-cache, no-store, must-revalidate\",\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Health check failed:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            status: \"unhealthy\",\n            timestamp: new Date().toISOString(),\n            error: \"Health check failed\",\n            checks: {\n                database: \"error\",\n                application: \"error\"\n            }\n        }, {\n            status: 503,\n            headers: {\n                \"Cache-Control\": \"no-cache, no-store, must-revalidate\",\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9oZWFsdGgvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVEO0FBQ1Q7QUFFdkMsZUFBZUUsSUFBSUMsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLDhCQUE4QjtRQUM5QixNQUFNQyxZQUFZLE1BQU1ILDREQUFjQSxDQUFDLEdBQUcsZ0NBQWdDOztRQUUxRSxpQ0FBaUM7UUFDakMsTUFBTUksYUFBYSxLQUFLLDRCQUE0Qjs7UUFFcEQsTUFBTUMsU0FBUztZQUNiQyxRQUFRSCxhQUFhQyxhQUFhLFlBQVk7WUFDOUNHLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztZQUNqQ0MsUUFBUTtnQkFDTkMsVUFBVVIsWUFBWSxPQUFPO2dCQUM3QlMsYUFBYVIsYUFBYSxPQUFPO1lBQ25DO1lBQ0FTLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ0MsbUJBQW1CLElBQUk7WUFDNUNDLGFBQWFILGlCQUF3QjtRQUN2QztRQUVBLE1BQU1SLFNBQVNELE9BQU9DLE1BQU0sS0FBSyxZQUFZLE1BQU07UUFFbkQsT0FBT1AscURBQVlBLENBQUNtQixJQUFJLENBQUNiLFFBQVE7WUFDL0JDO1lBQ0FhLFNBQVM7Z0JBQ1AsaUJBQWlCO2dCQUNqQixnQkFBZ0I7WUFDbEI7UUFDRjtJQUNGLEVBQUUsT0FBT0MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsd0JBQXdCQTtRQUV0QyxPQUFPckIscURBQVlBLENBQUNtQixJQUFJLENBQUM7WUFDdkJaLFFBQVE7WUFDUkMsV0FBVyxJQUFJQyxPQUFPQyxXQUFXO1lBQ2pDVyxPQUFPO1lBQ1BWLFFBQVE7Z0JBQ05DLFVBQVU7Z0JBQ1ZDLGFBQWE7WUFDZjtRQUNGLEdBQUc7WUFDRE4sUUFBUTtZQUNSYSxTQUFTO2dCQUNQLGlCQUFpQjtnQkFDakIsZ0JBQWdCO1lBQ2xCO1FBQ0Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VsbC1saS1jYXNlcy8uL3NyYy9hcHAvYXBpL2hlYWx0aC9yb3V0ZS50cz9mYzk5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IHRlc3RDb25uZWN0aW9uIH0gZnJvbSAnQC9saWIvbW9uZ29kYidcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIENoZWNrIGRhdGFiYXNlIGNvbm5lY3Rpdml0eVxuICAgIGNvbnN0IGRiSGVhbHRoeSA9IGF3YWl0IHRlc3RDb25uZWN0aW9uKDEpIC8vIFNpbmdsZSByZXRyeSBmb3IgaGVhbHRoIGNoZWNrXG4gICAgXG4gICAgLy8gQ2hlY2sgYmFzaWMgYXBwbGljYXRpb24gaGVhbHRoXG4gICAgY29uc3QgYXBwSGVhbHRoeSA9IHRydWUgLy8gQWRkIG1vcmUgY2hlY2tzIGFzIG5lZWRlZFxuICAgIFxuICAgIGNvbnN0IGhlYWx0aCA9IHtcbiAgICAgIHN0YXR1czogZGJIZWFsdGh5ICYmIGFwcEhlYWx0aHkgPyAnaGVhbHRoeScgOiAndW5oZWFsdGh5JyxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgY2hlY2tzOiB7XG4gICAgICAgIGRhdGFiYXNlOiBkYkhlYWx0aHkgPyAnb2snIDogJ2Vycm9yJyxcbiAgICAgICAgYXBwbGljYXRpb246IGFwcEhlYWx0aHkgPyAnb2snIDogJ2Vycm9yJ1xuICAgICAgfSxcbiAgICAgIHZlcnNpb246IHByb2Nlc3MuZW52Lm5wbV9wYWNrYWdlX3ZlcnNpb24gfHwgJzEuMC4wJyxcbiAgICAgIGVudmlyb25tZW50OiBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnXG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdHVzID0gaGVhbHRoLnN0YXR1cyA9PT0gJ2hlYWx0aHknID8gMjAwIDogNTAzXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oaGVhbHRoLCB7IFxuICAgICAgc3RhdHVzLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZSwgbm8tc3RvcmUsIG11c3QtcmV2YWxpZGF0ZScsXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIH1cbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0hlYWx0aCBjaGVjayBmYWlsZWQ6JywgZXJyb3IpXG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN0YXR1czogJ3VuaGVhbHRoeScsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGVycm9yOiAnSGVhbHRoIGNoZWNrIGZhaWxlZCcsXG4gICAgICBjaGVja3M6IHtcbiAgICAgICAgZGF0YWJhc2U6ICdlcnJvcicsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnZXJyb3InXG4gICAgICB9XG4gICAgfSwgeyBcbiAgICAgIHN0YXR1czogNTAzLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZSwgbm8tc3RvcmUsIG11c3QtcmV2YWxpZGF0ZScsXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIH1cbiAgICB9KVxuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInRlc3RDb25uZWN0aW9uIiwiR0VUIiwicmVxdWVzdCIsImRiSGVhbHRoeSIsImFwcEhlYWx0aHkiLCJoZWFsdGgiLCJzdGF0dXMiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjaGVja3MiLCJkYXRhYmFzZSIsImFwcGxpY2F0aW9uIiwidmVyc2lvbiIsInByb2Nlc3MiLCJlbnYiLCJucG1fcGFja2FnZV92ZXJzaW9uIiwiZW52aXJvbm1lbnQiLCJqc29uIiwiaGVhZGVycyIsImVycm9yIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/health/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COLLECTIONS: () => (/* binding */ COLLECTIONS),\n/* harmony export */   \"default\": () => (/* binding */ getClientPromise),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase),\n/* harmony export */   initializeDatabase: () => (/* binding */ initializeDatabase),\n/* harmony export */   testConnection: () => (/* binding */ testConnection)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n// 【重点】MongoDB数据库连接配置 - 管理数据库连接和操作\n// 这个文件是整个应用的数据库核心，负责建立和维护MongoDB连接\n // MongoDB官方驱动\n// 【重点】环境变量检查函数 - 延迟检查，避免模块加载时报错\nfunction checkEnvironment() {\n    if (false) {}\n    return \"mongodb+srv://766282480qnm_db_user:13195622840Qbb@weili-website.x7cdvcd.mongodb.net/wellicases?retryWrites=true&w=majority&appName=WEILI-website&ssl=true&authSource=admin\";\n}\n// 【重点】连接选项配置 - 优化数据库连接性能和稳定性，解决SSL问题\nconst options = {\n    maxPoolSize: 10,\n    serverSelectionTimeoutMS: 5000,\n    socketTimeoutMS: 45000,\n    family: 4,\n    // SSL/TLS配置 - 解决SSL连接问题\n    tls: true,\n    tlsAllowInvalidCertificates: false,\n    tlsAllowInvalidHostnames: false,\n    // 连接重试配置\n    retryWrites: true,\n    retryReads: true,\n    // 认证配置\n    authSource: \"admin\"\n};\n// 【重点】客户端连接管理 - 根据环境采用不同的连接策略\nlet client;\nlet clientPromise;\n// 改为函数形式，延迟初始化\nfunction initializeClient() {\n    if (clientPromise) {\n        return clientPromise;\n    }\n    const uri = checkEnvironment() // 在需要时才检查环境变量\n    ;\n    if (true) {\n        // 【重点】开发环境连接策略 - 使用全局变量避免热重载时重复连接\n        // 在开发模式下，使用全局变量保存连接，避免HMR（热模块替换）导致的重复连接\n        let globalWithMongo = global;\n        if (!globalWithMongo._mongoClientPromise) {\n            client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, options) // 创建新的MongoDB客户端\n            ;\n            globalWithMongo._mongoClientPromise = client.connect() // 建立连接并保存到全局变量\n            ;\n        }\n        clientPromise = globalWithMongo._mongoClientPromise // 使用已存在的连接\n        ;\n    } else {}\n    return clientPromise;\n}\n// 【重点】导出客户端连接Promise - 在模块间共享数据库连接\n// 通过在独立模块中导出，可以在不同函数间共享同一个客户端连接\nfunction getClientPromise() {\n    return initializeClient();\n}\n// 【重点】数据库辅助函数 - 获取数据库实例\nasync function getDatabase() {\n    try {\n        const client = await initializeClient() // 使用新的初始化函数\n        ;\n        return client.db(\"wellicases\") // 返回指定数据库实例（修正数据库名称）\n        ;\n    } catch (error) {\n        // 【重点】连接错误处理 - 记录错误并抛出友好的错误信息\n        console.error(\"Failed to connect to database:\", error);\n        throw new Error(\"Database connection failed\") // 抛出数据库连接失败错误\n        ;\n    }\n}\n// 【重点】集合名称常量 - 统一管理数据库集合名称\n// 使用常量避免硬编码，便于维护和重构\nconst COLLECTIONS = {\n    INQUIRIES: \"inquiries\",\n    PRODUCTS: \"products\",\n    USERS: \"users\",\n    SETTINGS: \"settings\" // 系统设置集合\n};\n// 【重点】增强的数据库连接测试 - 带重试逻辑的连接检查\nasync function testConnection(retries = 3) {\n    for(let i = 0; i < retries; i++){\n        try {\n            const client = await initializeClient() // 使用新的初始化函数\n            ;\n            await client.db(\"admin\").command({\n                ping: 1\n            }) // 发送ping命令测试连接\n            ;\n            console.log(\"✅ MongoDB connection successful\") // 连接成功\n            ;\n            return true;\n        } catch (error) {\n            console.error(`❌ MongoDB connection attempt ${i + 1} failed:`, error.message) // 简化错误信息\n            ;\n            if (i === retries - 1) {\n                // 【重点】所有重试都失败 - 记录最终失败状态\n                console.error(\"❌ All MongoDB connection attempts failed\");\n                console.warn(\"⚠️ This might be due to SSL/TLS compatibility issues on Windows\");\n                console.warn(\"⚠️ The application will continue without database connection\");\n                return false;\n            }\n            // 【重点】等待后重试 - 递增延迟避免频繁重试\n            // 【重点】等待后重试 - 递增延迟避免频繁重试\n            await new Promise((resolve)=>setTimeout(resolve, 1000 * (i + 1)));\n        }\n    }\n    return false;\n}\n// 【重点】数据库初始化 - 创建索引优化查询性能\nasync function initializeDatabase() {\n    try {\n        const db = await getDatabase() // 获取数据库实例\n        ;\n        // 【重点】咨询集合索引 - 优化常用查询字段的性能\n        const inquiriesIndexes = [\n            {\n                key: {\n                    email: 1\n                }\n            },\n            {\n                key: {\n                    createdAt: -1\n                }\n            },\n            {\n                key: {\n                    country: 1\n                }\n            },\n            {\n                key: {\n                    productInterest: 1\n                }\n            },\n            {\n                key: {\n                    status: 1\n                }\n            } // 状态索引：用于筛选处理状态\n        ];\n        const productsIndexes = [\n            {\n                key: {\n                    name: \"text\",\n                    description: \"text\"\n                }\n            },\n            {\n                key: {\n                    category: 1\n                }\n            },\n            {\n                key: {\n                    featured: 1\n                }\n            },\n            {\n                key: {\n                    active: 1\n                }\n            },\n            {\n                key: {\n                    slug: 1\n                },\n                unique: true\n            } // 唯一slug索引：确保URL标识符唯一性\n        ];\n        // 【重点】并行创建索引 - 同时为多个集合创建索引提高效率\n        await Promise.all([\n            db.collection(COLLECTIONS.INQUIRIES).createIndexes(inquiriesIndexes).catch((err)=>console.warn(\"Failed to create inquiries indexes:\", err)),\n            db.collection(COLLECTIONS.PRODUCTS).createIndexes(productsIndexes).catch((err)=>console.warn(\"Failed to create products indexes:\", err)) // 产品集合索引创建失败处理\n        ]);\n        console.log(\"✅ Database indexes created successfully\") // 索引创建成功\n        ;\n    } catch (error) {\n        // 【重点】数据库初始化错误处理 - 避免应用崩溃\n        console.error(\"❌ Failed to initialize database:\", error);\n        // 不抛出错误以防止应用崩溃 - 应用可以在没有索引的情况下运行\n        console.warn(\"Database initialization failed, continuing without indexes\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUUsT0FBT1osT0FBTztRQUNkLDBCQUEwQjtRQUMxQkMsUUFBUUQsS0FBSyxDQUFDLG9DQUFvQ0E7UUFDbEQsaUNBQWlDO1FBQ2pDQyxRQUFRYSxJQUFJLENBQUM7SUFDZjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VsbC1saS1jYXNlcy8uL3NyYy9saWIvbW9uZ29kYi50cz81M2MyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIOOAkOmHjeeCueOAkU1vbmdvRELmlbDmja7lupPov57mjqXphY3nva4gLSDnrqHnkIbmlbDmja7lupPov57mjqXlkozmk43kvZxcbi8vIOi/meS4quaWh+S7tuaYr+aVtOS4quW6lOeUqOeahOaVsOaNruW6k+aguOW/g++8jOi0n+i0o+W7uueri+WSjOe7tOaKpE1vbmdvRELov57mjqVcblxuaW1wb3J0IHsgTW9uZ29DbGllbnQsIERiLCBNb25nb0NsaWVudE9wdGlvbnMgfSBmcm9tICdtb25nb2RiJyAvLyBNb25nb0RC5a6Y5pa56amx5YqoXG5cbi8vIOOAkOmHjeeCueOAkeeOr+Wig+WPmOmHj+ajgOafpeWHveaVsCAtIOW7tui/n+ajgOafpe+8jOmBv+WFjeaooeWdl+WKoOi9veaXtuaKpemUmVxuZnVuY3Rpb24gY2hlY2tFbnZpcm9ubWVudCgpOiBzdHJpbmcge1xuICBpZiAoIXByb2Nlc3MuZW52Lk1PTkdPREJfVVJJKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgYWRkIHlvdXIgTW9uZ29EQiBVUkkgdG8gLmVudi5sb2NhbCcpIC8vIOe8uuWwkeaVsOaNruW6k+i/nuaOpeWtl+espuS4slxuICB9XG4gIHJldHVybiBwcm9jZXNzLmVudi5NT05HT0RCX1VSSVxufVxuLy8g44CQ6YeN54K544CR6L+e5o6l6YCJ6aG56YWN572uIC0g5LyY5YyW5pWw5o2u5bqT6L+e5o6l5oCn6IO95ZKM56iz5a6a5oCn77yM6Kej5YazU1NM6Zeu6aKYXG5jb25zdCBvcHRpb25zOiBNb25nb0NsaWVudE9wdGlvbnMgPSB7XG4gIG1heFBvb2xTaXplOiAxMCwgLy8g5pyA5aSn6L+e5o6l5rGg5aSn5bCP77yaMTDkuKrlubblj5Hov57mjqVcbiAgc2VydmVyU2VsZWN0aW9uVGltZW91dE1TOiA1MDAwLCAvLyDmnI3liqHlmajpgInmi6notoXml7bvvJo156eSXG4gIHNvY2tldFRpbWVvdXRNUzogNDUwMDAsIC8vIFNvY2tldOi2heaXtu+8mjQ156eSXG4gIGZhbWlseTogNCwgLy8g5L2/55SoSVB2NO+8jOi3s+i/h0lQdjblsJ3or5XvvIjmj5Dpq5jov57mjqXpgJ/luqbvvIlcbiAgXG4gIC8vIFNTTC9UTFPphY3nva4gLSDop6PlhrNTU0zov57mjqXpl67pophcbiAgdGxzOiB0cnVlLCAvLyDlkK/nlKhUTFNcbiAgdGxzQWxsb3dJbnZhbGlkQ2VydGlmaWNhdGVzOiBmYWxzZSwgLy8g5Lil5qC86K+B5Lmm6aqM6K+BXG4gIHRsc0FsbG93SW52YWxpZEhvc3RuYW1lczogZmFsc2UsIC8vIOS4peagvOS4u+acuuWQjemqjOivgVxuICBcbiAgLy8g6L+e5o6l6YeN6K+V6YWN572uXG4gIHJldHJ5V3JpdGVzOiB0cnVlLCAvLyDlkK/nlKjlhpnmk43kvZzph43or5VcbiAgcmV0cnlSZWFkczogdHJ1ZSwgLy8g5ZCv55So6K+75pON5L2c6YeN6K+VXG4gIFxuICAvLyDorqTor4HphY3nva5cbiAgYXV0aFNvdXJjZTogJ2FkbWluJywgLy8g6K6k6K+B5pWw5o2u5bqTXG59XG5cbi8vIOOAkOmHjeeCueOAkeWuouaIt+err+i/nuaOpeeuoeeQhiAtIOagueaNrueOr+Wig+mHh+eUqOS4jeWQjOeahOi/nuaOpeetlueVpVxubGV0IGNsaWVudDogTW9uZ29DbGllbnRcbmxldCBjbGllbnRQcm9taXNlOiBQcm9taXNlPE1vbmdvQ2xpZW50PlxuXG4vLyDmlLnkuLrlh73mlbDlvaLlvI/vvIzlu7bov5/liJ3lp4vljJZcbmZ1bmN0aW9uIGluaXRpYWxpemVDbGllbnQoKTogUHJvbWlzZTxNb25nb0NsaWVudD4ge1xuICBpZiAoY2xpZW50UHJvbWlzZSkge1xuICAgIHJldHVybiBjbGllbnRQcm9taXNlXG4gIH1cbiAgXG4gIGNvbnN0IHVyaSA9IGNoZWNrRW52aXJvbm1lbnQoKSAvLyDlnKjpnIDopoHml7bmiY3mo4Dmn6Xnjq/looPlj5jph49cbiAgXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgIC8vIOOAkOmHjeeCueOAkeW8gOWPkeeOr+Wig+i/nuaOpeetlueVpSAtIOS9v+eUqOWFqOWxgOWPmOmHj+mBv+WFjeeDremHjei9veaXtumHjeWkjei/nuaOpVxuICAgIC8vIOWcqOW8gOWPkeaooeW8j+S4i++8jOS9v+eUqOWFqOWxgOWPmOmHj+S/neWtmOi/nuaOpe+8jOmBv+WFjUhNUu+8iOeDreaooeWdl+abv+aNou+8ieWvvOiHtOeahOmHjeWkjei/nuaOpVxuICAgIGxldCBnbG9iYWxXaXRoTW9uZ28gPSBnbG9iYWwgYXMgdHlwZW9mIGdsb2JhbFRoaXMgJiB7XG4gICAgICBfbW9uZ29DbGllbnRQcm9taXNlPzogUHJvbWlzZTxNb25nb0NsaWVudD5cbiAgICB9XG5cbiAgICBpZiAoIWdsb2JhbFdpdGhNb25nby5fbW9uZ29DbGllbnRQcm9taXNlKSB7XG4gICAgICBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJpLCBvcHRpb25zKSAvLyDliJvlu7rmlrDnmoRNb25nb0RC5a6i5oi356uvXG4gICAgICBnbG9iYWxXaXRoTW9uZ28uX21vbmdvQ2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KCkgLy8g5bu656uL6L+e5o6l5bm25L+d5a2Y5Yiw5YWo5bGA5Y+Y6YePXG4gICAgfVxuICAgIGNsaWVudFByb21pc2UgPSBnbG9iYWxXaXRoTW9uZ28uX21vbmdvQ2xpZW50UHJvbWlzZSAvLyDkvb/nlKjlt7LlrZjlnKjnmoTov57mjqVcbiAgfSBlbHNlIHtcbiAgICAvLyDjgJDph43ngrnjgJHnlJ/kuqfnjq/looPov57mjqXnrZbnlaUgLSDnm7TmjqXliJvlu7rov57mjqXvvIzkuI3kvb/nlKjlhajlsYDlj5jph49cbiAgICBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJpLCBvcHRpb25zKVxuICAgIGNsaWVudFByb21pc2UgPSBjbGllbnQuY29ubmVjdCgpXG4gIH1cbiAgXG4gIHJldHVybiBjbGllbnRQcm9taXNlXG59XG5cbi8vIOOAkOmHjeeCueOAkeWvvOWHuuWuouaIt+err+i/nuaOpVByb21pc2UgLSDlnKjmqKHlnZfpl7TlhbHkuqvmlbDmja7lupPov57mjqVcbi8vIOmAmui/h+WcqOeLrOeri+aooeWdl+S4reWvvOWHuu+8jOWPr+S7peWcqOS4jeWQjOWHveaVsOmXtOWFseS6q+WQjOS4gOS4quWuouaIt+err+i/nuaOpVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Q2xpZW50UHJvbWlzZSgpOiBQcm9taXNlPE1vbmdvQ2xpZW50PiB7XG4gIHJldHVybiBpbml0aWFsaXplQ2xpZW50KClcbn1cblxuLy8g44CQ6YeN54K544CR5pWw5o2u5bqT6L6F5Yqp5Ye95pWwIC0g6I635Y+W5pWw5o2u5bqT5a6e5L6LXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RGF0YWJhc2UoKTogUHJvbWlzZTxEYj4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGluaXRpYWxpemVDbGllbnQoKSAvLyDkvb/nlKjmlrDnmoTliJ3lp4vljJblh73mlbBcbiAgICByZXR1cm4gY2xpZW50LmRiKCd3ZWxsaWNhc2VzJykgLy8g6L+U5Zue5oyH5a6a5pWw5o2u5bqT5a6e5L6L77yI5L+u5q2j5pWw5o2u5bqT5ZCN56ew77yJXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8g44CQ6YeN54K544CR6L+e5o6l6ZSZ6K+v5aSE55CGIC0g6K6w5b2V6ZSZ6K+v5bm25oqb5Ye65Y+L5aW955qE6ZSZ6K+v5L+h5oGvXG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNvbm5lY3QgdG8gZGF0YWJhc2U6JywgZXJyb3IpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpIC8vIOaKm+WHuuaVsOaNruW6k+i/nuaOpeWksei0pemUmeivr1xuICB9XG59XG5cbi8vIOOAkOmHjeeCueOAkembhuWQiOWQjeensOW4uOmHjyAtIOe7n+S4gOeuoeeQhuaVsOaNruW6k+mbhuWQiOWQjeensFxuLy8g5L2/55So5bi46YeP6YG/5YWN56Gs57yW56CB77yM5L6/5LqO57u05oqk5ZKM6YeN5p6EXG5leHBvcnQgY29uc3QgQ09MTEVDVElPTlMgPSB7XG4gIElOUVVJUklFUzogJ2lucXVpcmllcycsIC8vIOWSqOivouiusOW9lembhuWQiFxuICBQUk9EVUNUUzogJ3Byb2R1Y3RzJywgLy8g5Lqn5ZOB5L+h5oGv6ZuG5ZCIXG4gIFVTRVJTOiAndXNlcnMnLCAvLyDnlKjmiLfkv6Hmga/pm4blkIhcbiAgU0VUVElOR1M6ICdzZXR0aW5ncycgLy8g57O757uf6K6+572u6ZuG5ZCIXG59IGFzIGNvbnN0XG5cbi8vIOOAkOmHjeeCueOAkeWinuW8uueahOaVsOaNruW6k+i/nuaOpea1i+ivlSAtIOW4pumHjeivlemAu+i+keeahOi/nuaOpeajgOafpVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRlc3RDb25uZWN0aW9uKHJldHJpZXMgPSAzKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmV0cmllczsgaSsrKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGluaXRpYWxpemVDbGllbnQoKSAvLyDkvb/nlKjmlrDnmoTliJ3lp4vljJblh73mlbBcbiAgICAgIGF3YWl0IGNsaWVudC5kYignYWRtaW4nKS5jb21tYW5kKHsgcGluZzogMSB9KSAvLyDlj5HpgIFwaW5n5ZG95Luk5rWL6K+V6L+e5o6lXG4gICAgICBjb25zb2xlLmxvZygn4pyFIE1vbmdvREIgY29ubmVjdGlvbiBzdWNjZXNzZnVsJykgLy8g6L+e5o6l5oiQ5YqfXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgTW9uZ29EQiBjb25uZWN0aW9uIGF0dGVtcHQgJHtpICsgMX0gZmFpbGVkOmAsIChlcnJvciBhcyBFcnJvcikubWVzc2FnZSkgLy8g566A5YyW6ZSZ6K+v5L+h5oGvXG4gICAgICBpZiAoaSA9PT0gcmV0cmllcyAtIDEpIHtcbiAgICAgICAgLy8g44CQ6YeN54K544CR5omA5pyJ6YeN6K+V6YO95aSx6LSlIC0g6K6w5b2V5pyA57uI5aSx6LSl54q25oCBXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBbGwgTW9uZ29EQiBjb25uZWN0aW9uIGF0dGVtcHRzIGZhaWxlZCcpXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFRoaXMgbWlnaHQgYmUgZHVlIHRvIFNTTC9UTFMgY29tcGF0aWJpbGl0eSBpc3N1ZXMgb24gV2luZG93cycpXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFRoZSBhcHBsaWNhdGlvbiB3aWxsIGNvbnRpbnVlIHdpdGhvdXQgZGF0YWJhc2UgY29ubmVjdGlvbicpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgLy8g44CQ6YeN54K544CR562J5b6F5ZCO6YeN6K+VIC0g6YCS5aKe5bu26L+f6YG/5YWN6aKR57mB6YeN6K+VXG4gICAgICAvLyDjgJDph43ngrnjgJHnrYnlvoXlkI7ph43or5UgLSDpgJLlop7lu7bov5/pgb/lhY3popHnuYHph43or5VcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwICogKGkgKyAxKSkpXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vLyDjgJDph43ngrnjgJHmlbDmja7lupPliJ3lp4vljJYgLSDliJvlu7rntKLlvJXkvJjljJbmn6Xor6LmgKfog71cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplRGF0YWJhc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGIgPSBhd2FpdCBnZXREYXRhYmFzZSgpIC8vIOiOt+WPluaVsOaNruW6k+WunuS+i1xuICAgIFxuICAgIC8vIOOAkOmHjeeCueOAkeWSqOivoumbhuWQiOe0ouW8lSAtIOS8mOWMluW4uOeUqOafpeivouWtl+auteeahOaAp+iDvVxuICAgIGNvbnN0IGlucXVpcmllc0luZGV4ZXMgPSBbXG4gICAgICB7IGtleTogeyBlbWFpbDogMSB9IH0sIC8vIOmCrueusee0ouW8le+8mueUqOS6juafpeaJvueJueWumueUqOaIt+eahOWSqOivolxuICAgICAgeyBrZXk6IHsgY3JlYXRlZEF0OiAtMSB9IH0sIC8vIOWIm+W7uuaXtumXtOWAkuW6j+e0ouW8le+8mueUqOS6juaMieaXtumXtOaOkuW6j1xuICAgICAgeyBrZXk6IHsgY291bnRyeTogMSB9IH0sIC8vIOWbveWutue0ouW8le+8mueUqOS6juWcsOWMuue7n+iuoVxuICAgICAgeyBrZXk6IHsgcHJvZHVjdEludGVyZXN0OiAxIH0gfSwgLy8g5Lqn5ZOB5YW06Laj57Si5byV77ya55So5LqO5Lqn5ZOB5YiG5p6QXG4gICAgICB7IGtleTogeyBzdGF0dXM6IDEgfSB9IC8vIOeKtuaAgee0ouW8le+8mueUqOS6juetm+mAieWkhOeQhueKtuaAgVxuICAgIF0gYXMgYW55XG4gICAgXG4gICAgY29uc3QgcHJvZHVjdHNJbmRleGVzID0gW1xuICAgICAgeyBrZXk6IHsgbmFtZTogJ3RleHQnLCBkZXNjcmlwdGlvbjogJ3RleHQnIH0gfSwgLy8g5YWo5paH5pCc57Si57Si5byV77ya5pSv5oyB5Lqn5ZOB5ZCN56ew5ZKM5o+P6L+w5pCc57SiXG4gICAgICB7IGtleTogeyBjYXRlZ29yeTogMSB9IH0sIC8vIOWIhuexu+e0ouW8le+8mueUqOS6juWIhuexu+etm+mAiVxuICAgICAgeyBrZXk6IHsgZmVhdHVyZWQ6IDEgfSB9LCAvLyDnibnoibLkuqflk4HntKLlvJXvvJrnlKjkuo7pppbpobXnibnoibLkuqflk4Hmn6Xor6JcbiAgICAgIHsga2V5OiB7IGFjdGl2ZTogMSB9IH0sIC8vIOa0u+i3g+eKtuaAgee0ouW8le+8mueUqOS6juetm+mAieWPr+eUqOS6p+WTgVxuICAgICAgeyBrZXk6IHsgc2x1ZzogMSB9LCB1bmlxdWU6IHRydWUgfSAvLyDllK/kuIBzbHVn57Si5byV77ya56Gu5L+dVVJM5qCH6K+G56ym5ZSv5LiA5oCnXG4gICAgXSBhcyBhbnlcbiAgICBcbiAgICAvLyDjgJDph43ngrnjgJHlubbooYzliJvlu7rntKLlvJUgLSDlkIzml7bkuLrlpJrkuKrpm4blkIjliJvlu7rntKLlvJXmj5Dpq5jmlYjnjodcbiAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBkYi5jb2xsZWN0aW9uKENPTExFQ1RJT05TLklOUVVJUklFUykuY3JlYXRlSW5kZXhlcyhpbnF1aXJpZXNJbmRleGVzKVxuICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUud2FybignRmFpbGVkIHRvIGNyZWF0ZSBpbnF1aXJpZXMgaW5kZXhlczonLCBlcnIpKSwgLy8g5ZKo6K+i6ZuG5ZCI57Si5byV5Yib5bu65aSx6LSl5aSE55CGXG4gICAgICBkYi5jb2xsZWN0aW9uKENPTExFQ1RJT05TLlBST0RVQ1RTKS5jcmVhdGVJbmRleGVzKHByb2R1Y3RzSW5kZXhlcylcbiAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBjcmVhdGUgcHJvZHVjdHMgaW5kZXhlczonLCBlcnIpKSAvLyDkuqflk4Hpm4blkIjntKLlvJXliJvlu7rlpLHotKXlpITnkIZcbiAgICBdKVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfinIUgRGF0YWJhc2UgaW5kZXhlcyBjcmVhdGVkIHN1Y2Nlc3NmdWxseScpIC8vIOe0ouW8leWIm+W7uuaIkOWKn1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIOOAkOmHjeeCueOAkeaVsOaNruW6k+WIneWni+WMlumUmeivr+WkhOeQhiAtIOmBv+WFjeW6lOeUqOW0qea6g1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBkYXRhYmFzZTonLCBlcnJvcilcbiAgICAvLyDkuI3mipvlh7rplJnor6/ku6XpmLLmraLlupTnlKjltKnmuoMgLSDlupTnlKjlj6/ku6XlnKjmsqHmnInntKLlvJXnmoTmg4XlhrXkuIvov5DooYxcbiAgICBjb25zb2xlLndhcm4oJ0RhdGFiYXNlIGluaXRpYWxpemF0aW9uIGZhaWxlZCwgY29udGludWluZyB3aXRob3V0IGluZGV4ZXMnKVxuICB9XG59Il0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwiY2hlY2tFbnZpcm9ubWVudCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSSSIsIkVycm9yIiwib3B0aW9ucyIsIm1heFBvb2xTaXplIiwic2VydmVyU2VsZWN0aW9uVGltZW91dE1TIiwic29ja2V0VGltZW91dE1TIiwiZmFtaWx5IiwidGxzIiwidGxzQWxsb3dJbnZhbGlkQ2VydGlmaWNhdGVzIiwidGxzQWxsb3dJbnZhbGlkSG9zdG5hbWVzIiwicmV0cnlXcml0ZXMiLCJyZXRyeVJlYWRzIiwiYXV0aFNvdXJjZSIsImNsaWVudCIsImNsaWVudFByb21pc2UiLCJpbml0aWFsaXplQ2xpZW50IiwidXJpIiwiZ2xvYmFsV2l0aE1vbmdvIiwiZ2xvYmFsIiwiX21vbmdvQ2xpZW50UHJvbWlzZSIsImNvbm5lY3QiLCJnZXRDbGllbnRQcm9taXNlIiwiZ2V0RGF0YWJhc2UiLCJkYiIsImVycm9yIiwiY29uc29sZSIsIkNPTExFQ1RJT05TIiwiSU5RVUlSSUVTIiwiUFJPRFVDVFMiLCJVU0VSUyIsIlNFVFRJTkdTIiwidGVzdENvbm5lY3Rpb24iLCJyZXRyaWVzIiwiaSIsImNvbW1hbmQiLCJwaW5nIiwibG9nIiwibWVzc2FnZSIsIndhcm4iLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJpbml0aWFsaXplRGF0YWJhc2UiLCJpbnF1aXJpZXNJbmRleGVzIiwia2V5IiwiZW1haWwiLCJjcmVhdGVkQXQiLCJjb3VudHJ5IiwicHJvZHVjdEludGVyZXN0Iiwic3RhdHVzIiwicHJvZHVjdHNJbmRleGVzIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiY2F0ZWdvcnkiLCJmZWF0dXJlZCIsImFjdGl2ZSIsInNsdWciLCJ1bmlxdWUiLCJhbGwiLCJjb2xsZWN0aW9uIiwiY3JlYXRlSW5kZXhlcyIsImNhdGNoIiwiZXJyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhealth%2Froute&page=%2Fapi%2Fhealth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhealth%2Froute.ts&appDir=E%3A%5Cnanuk%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cnanuk&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();