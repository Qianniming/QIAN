"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/contact/route";
exports.ids = ["app/api/contact/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcontact%2Froute&page=%2Fapi%2Fcontact%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontact%2Froute.ts&appDir=E%3A%5Cnanuk%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cnanuk&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcontact%2Froute&page=%2Fapi%2Fcontact%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontact%2Froute.ts&appDir=E%3A%5Cnanuk%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cnanuk&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_nanuk_src_app_api_contact_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/contact/route.ts */ \"(rsc)/./src/app/api/contact/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/contact/route\",\n        pathname: \"/api/contact\",\n        filename: \"route\",\n        bundlePath: \"app/api/contact/route\"\n    },\n    resolvedPagePath: \"E:\\\\nanuk\\\\src\\\\app\\\\api\\\\contact\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_nanuk_src_app_api_contact_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/contact/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjb250YWN0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjb250YWN0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY29udGFjdCUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDbmFudWslNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUUlM0ElNUNuYW51ayZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDTDtBQUN4RTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3dlbGwtbGktY2FzZXMvPzg4NzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRTpcXFxcbmFudWtcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY29udGFjdFxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY29udGFjdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NvbnRhY3RcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NvbnRhY3Qvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJFOlxcXFxuYW51a1xcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxjb250YWN0XFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jb250YWN0L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcontact%2Froute&page=%2Fapi%2Fcontact%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontact%2Froute.ts&appDir=E%3A%5Cnanuk%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cnanuk&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/contact/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/contact/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! nodemailer */ \"(rsc)/./node_modules/nodemailer/lib/nodemailer.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n/* harmony import */ var _lib_models__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/models */ \"(rsc)/./src/lib/models.ts\");\n/* harmony import */ var _lib_error_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/error-handler */ \"(rsc)/./src/lib/error-handler.ts\");\n/* harmony import */ var _lib_rate_limiter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/rate-limiter */ \"(rsc)/./src/lib/rate-limiter.ts\");\n// 【重点】联系表单API接口 - 处理网站联系表单提交和邮件发送\n// 这个文件负责接收用户咨询，保存到数据库，并发送邮件通知\n // Next.js服务器端请求和响应处理\n // 邮件发送库\n // 数据库连接和集合定义\n // 咨询数据模型和验证\n // 错误处理\n // 限流和安全保护\n// 【重点】创建邮件发送器 - 配置SMTP服务器连接\n// 支持Gmail和其他SMTP服务器，用于发送通知邮件\nconst createTransporter = ()=>{\n    // 【重点】兼容性处理 - 支持多种环境变量名称\n    const emailUser = process.env.SMTP_USER || process.env.EMAIL_USER;\n    const emailPassword = process.env.SMTP_PASS || process.env.EMAIL_PASSWORD || process.env.EMAIL_PASS;\n    const smtpHost = process.env.SMTP_HOST || \"smtp.gmail.com\";\n    const smtpPort = parseInt(process.env.SMTP_PORT || \"587\");\n    // 【重点】配置检查 - 确保邮件配置完整\n    if (!emailUser || !emailPassword) {\n        throw new Error(\"Email configuration missing. Please set SMTP_USER and SMTP_PASS environment variables.\");\n    }\n    // 【重点】创建163邮箱SMTP传输器 - 适配网易163邮箱配置\n    const isPort465 = smtpPort === 465;\n    return nodemailer__WEBPACK_IMPORTED_MODULE_1__.createTransport({\n        host: smtpHost,\n        port: smtpPort,\n        secure: isPort465,\n        auth: {\n            user: emailUser,\n            pass: emailPassword // 发送邮箱密码或应用密码\n        },\n        tls: {\n            rejectUnauthorized: false // 允许自签名证书\n        }\n    });\n};\n// 【重点】管理员通知邮件模板 - 当有新咨询时发送给管理员的邮件\n// 使用HTML格式，包含完整的客户信息和专业的邮件样式\nconst createAdminEmailTemplate = (data)=>{\n    return `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <meta charset=\"utf-8\">\n      <title>New Inquiry from WELL-LI Website</title>\n      <style>\n        /* 【重点】邮件样式 - 确保在各种邮件客户端中正常显示 */\n        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n        .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n        .header { background: #1f2937; color: white; padding: 20px; text-align: center; }\n        .content { background: #f9fafb; padding: 20px; }\n        .field { margin-bottom: 15px; }\n        .label { font-weight: bold; color: #374151; }\n        .value { margin-top: 5px; padding: 10px; background: white; border-left: 4px solid #3b82f6; }\n        .message { background: white; padding: 15px; border-radius: 5px; margin-top: 10px; }\n        .footer { text-align: center; padding: 20px; color: #6b7280; font-size: 14px; }\n      </style>\n    </head>\n    <body>\n      <div class=\"container\">\n        <!-- 【重点】邮件头部 - 显示公司信息和通知类型 -->\n        <div class=\"header\">\n          <h1>New Customer Inquiry</h1>\n          <p>WELL-LI Cases Website</p>\n        </div>\n        \n        <!-- 【重点】邮件内容 - 显示客户提交的所有信息 -->\n        <div class=\"content\">\n          <!-- 客户姓名 -->\n          <div class=\"field\">\n            <div class=\"label\">Customer Name:</div>\n            <div class=\"value\">${data.name}</div>\n          </div>\n          \n          <!-- 客户邮箱 -->\n          <div class=\"field\">\n            <div class=\"label\">Email Address:</div>\n            <div class=\"value\">${data.email}</div>\n          </div>\n          \n          <!-- 客户电话（如果提供） -->\n          ${data.phone ? `\n          <div class=\"field\">\n            <div class=\"label\">Phone Number:</div>\n            <div class=\"value\">${data.phone}</div>\n          </div>\n          ` : \"\"}\n          \n          <!-- 客户国家 -->\n          <div class=\"field\">\n            <div class=\"label\">Country:</div>\n            <div class=\"value\">${data.country}</div>\n          </div>\n          \n          <!-- 客户公司（如果提供） -->\n          ${data.company ? `\n          <div class=\"field\">\n            <div class=\"label\">Company:</div>\n            <div class=\"value\">${data.company}</div>\n          </div>\n          ` : \"\"}\n          \n          <!-- 感兴趣的产品（如果选择） -->\n          ${data.productInterest ? `\n          <div class=\"field\">\n            <div class=\"label\">Product of Interest:</div>\n            <div class=\"value\">${data.productInterest}</div>\n          </div>\n          ` : \"\"}\n          \n          <!-- 客户咨询消息 -->\n          <div class=\"field\">\n            <div class=\"label\">Message:</div>\n            <div class=\"message\">${data.message.replace(/\\n/g, \"<br>\")}</div>\n          </div>\n        </div>\n        \n        <!-- 【重点】邮件底部 - 提醒管理员及时回复 -->\n        <div class=\"footer\">\n          <p>This inquiry was submitted through the WELL-LI Cases website contact form.</p>\n          <p>Please respond to the customer within 24 hours.</p>\n        </div>\n      </div>\n    </body>\n    </html>\n  `;\n};\n// 【重点】客户确认邮件模板 - 向客户发送的自动确认邮件\n// 告知客户我们已收到咨询，并说明后续处理流程\nconst createCustomerEmailTemplate = (data)=>{\n    return `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <meta charset=\"utf-8\">\n      <title>Thank you for your inquiry - WELL-LI Cases</title>\n      <style>\n        /* 【重点】客户邮件样式 - 专业友好的确认邮件样式 */\n        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n        .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n        .header { background: #1f2937; color: white; padding: 20px; text-align: center; }\n        .content { background: #f9fafb; padding: 20px; }\n        .highlight { background: #dbeafe; padding: 15px; border-radius: 5px; margin: 20px 0; }\n        .contact-info { background: white; padding: 15px; border-radius: 5px; margin: 20px 0; }\n        .footer { text-align: center; padding: 20px; color: #6b7280; font-size: 14px; }\n      </style>\n    </head>\n    <body>\n      <div class=\"container\">\n        <!-- 【重点】感谢标题 - 表达对客户咨询的感谢 -->\n        <div class=\"header\">\n          <h1>Thank You for Your Inquiry!</h1>\n          <p>WELL-LI Plastic Products Co., Ltd.</p>\n        </div>\n        \n        <!-- 【重点】邮件主体内容 - 详细说明后续处理流程 -->\n        <div class=\"content\">\n          <p>Dear ${data.name},</p>\n          \n          <p>Thank you for your interest in WELL-LI Cases. We have received your inquiry and our team will review your requirements carefully.</p>\n          \n          <!-- 【重点】处理流程说明 - 让客户了解接下来会发生什么 -->\n          <div class=\"highlight\">\n            <h3>What happens next?</h3>\n            <ul>\n              <li>Our sales team will review your inquiry within 24 hours</li>\n              <li>We'll prepare a customized quote based on your requirements</li>\n              <li>You'll receive a detailed response with product specifications and pricing</li>\n              <li>Our team will be available to answer any additional questions</li>\n            </ul>\n          </div>\n          \n          <!-- 【重点】联系信息 - 提供直接联系方式 -->\n          <div class=\"contact-info\">\n            <h3>Contact Information</h3>\n            <p><strong>Email:</strong> info@well-li.com</p>\n            <p><strong>Phone:</strong> +86 20 1234 5678</p>\n            <p><strong>Address:</strong> Industrial Zone, Guangzhou, China</p>\n            <p><strong>Business Hours:</strong> Mon-Fri 8:00 AM - 6:00 PM (GMT+8)</p>\n          </div>\n          \n          <p>If you have any urgent questions, please don't hesitate to contact us directly.</p>\n          \n          <p>Best regards,<br>\n          The WELL-LI Cases Team</p>\n        </div>\n        \n        <!-- 【重点】邮件底部 - 公司信息和免责声明 -->\n        <div class=\"footer\">\n          <p>WELL-LI Plastic Products Co., Ltd. | Reliable Protective Cases Manufacturer</p>\n          <p>This is an automated confirmation email. Please do not reply to this email.</p>\n        </div>\n      </div>\n    </body>\n    </html>\n  `;\n};\n// 【重点】POST接口 - 处理联系表单提交\n// 这是主要的API端点，负责接收表单数据、验证、保存到数据库并发送邮件\nasync function POST(request) {\n    try {\n        // 【重点】限流保护 - 防止恶意提交和垃圾邮件\n        const rateLimitMiddleware = (0,_lib_rate_limiter__WEBPACK_IMPORTED_MODULE_5__.createRateLimitMiddleware)(_lib_rate_limiter__WEBPACK_IMPORTED_MODULE_5__.contactFormLimiter);\n        const rateLimitResult = rateLimitMiddleware(request);\n        // 【重点】解析请求体 - 获取客户提交的表单数据\n        const body = await request.json();\n        // 【重点】数据验证 - 确保所有必填字段都存在且格式正确\n        const validation = (0,_lib_models__WEBPACK_IMPORTED_MODULE_3__.validateInquiry)(body);\n        if (!validation.isValid) {\n            throw new _lib_error_handler__WEBPACK_IMPORTED_MODULE_4__.ValidationError(\"Validation failed\", validation.errors);\n        }\n        // 【重点】数据清理 - 防止XSS攻击和恶意代码注入\n        const sanitizedData = (0,_lib_models__WEBPACK_IMPORTED_MODULE_3__.sanitizeInquiry)(body);\n        // 【重点】创建邮件发送器 - 准备发送通知邮件\n        const transporter = createTransporter();\n        // 【重点】准备管理员通知邮件 - 将客户咨询发送给管理员\n        const adminEmailOptions = {\n            from: process.env.SMTP_FROM || process.env.SMTP_USER || process.env.EMAIL_USER,\n            to: process.env.SMTP_TO || process.env.ADMIN_EMAIL || process.env.SMTP_USER || process.env.EMAIL_USER,\n            subject: `New Inquiry from ${sanitizedData.name} - WELL-LI Cases`,\n            html: createAdminEmailTemplate(sanitizedData) // HTML邮件内容\n        };\n        // 【重点】准备客户确认邮件 - 向客户发送确认收到咨询的邮件\n        const customerEmailOptions = {\n            from: process.env.SMTP_FROM || process.env.SMTP_USER || process.env.EMAIL_USER,\n            to: sanitizedData.email,\n            subject: \"Thank you for your inquiry - WELL-LI Cases\",\n            html: createCustomerEmailTemplate(sanitizedData) // HTML邮件内容\n        };\n        // 【重点】并行发送邮件 - 同时发送管理员通知和客户确认邮件\n        await Promise.all([\n            transporter.sendMail(adminEmailOptions),\n            transporter.sendMail(customerEmailOptions)\n        ]);\n        // 【重点】保存咨询到数据库 - 记录客户咨询信息用于后续跟进\n        try {\n            const db = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_2__.getDatabase)() // 连接数据库\n            ;\n            // 【重点】构建咨询记录 - 包含客户信息和系统信息\n            const inquiry = {\n                ..._lib_models__WEBPACK_IMPORTED_MODULE_3__.DefaultInquiry,\n                name: sanitizedData.name,\n                email: sanitizedData.email,\n                phone: sanitizedData.phone,\n                country: sanitizedData.country,\n                company: sanitizedData.company,\n                productInterest: sanitizedData.productInterest,\n                message: sanitizedData.message,\n                ipAddress: request.ip || request.headers.get(\"x-forwarded-for\") || \"unknown\",\n                userAgent: request.headers.get(\"user-agent\") || \"unknown\",\n                createdAt: new Date(),\n                updatedAt: new Date() // 更新时间\n            };\n            // 【重点】插入数据库 - 保存咨询记录\n            const result = await db.collection(_lib_mongodb__WEBPACK_IMPORTED_MODULE_2__.COLLECTIONS.INQUIRIES).insertOne(inquiry);\n            console.log(\"Inquiry saved to database:\", result.insertedId);\n        } catch (dbError) {\n            // 【重点】数据库错误处理 - 即使数据库保存失败也要继续发送邮件\n            console.error(\"Failed to save inquiry to database:\", dbError);\n            (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_4__.logError)(new _lib_error_handler__WEBPACK_IMPORTED_MODULE_4__.DatabaseError(\"Failed to save inquiry\"), {\n                context: \"contact-form\"\n            });\n        // Continue with email sending even if database save fails\n        }\n        // 【重点】返回成功响应 - 告知前端提交成功\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Inquiry submitted successfully\",\n            success: true // 成功标志\n        }, {\n            status: 200,\n            headers: _lib_rate_limiter__WEBPACK_IMPORTED_MODULE_5__.securityHeaders // 安全头部\n        });\n    } catch (error) {\n        // 【重点】错误处理 - 统一处理各种错误情况\n        const appError = (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_4__.handleApiError)(error) // 转换为应用错误\n        ;\n        (0,_lib_error_handler__WEBPACK_IMPORTED_MODULE_4__.logError)(appError, {\n            context: \"contact-form\",\n            request: request.url\n        }) // 记录错误日志\n        ;\n        // 【重点】返回错误响应 - 向前端返回错误信息\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: appError.message,\n            code: appError.code || \"UNKNOWN_ERROR\" // 错误代码\n        }, {\n            status: appError.statusCode || 500,\n            headers: _lib_rate_limiter__WEBPACK_IMPORTED_MODULE_5__.securityHeaders // 安全头部\n        });\n    }\n}\n// 【重点】GET接口 - 用于测试API是否正常工作\n// 可选功能，主要用于健康检查和调试\nasync function GET() {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        message: \"Contact API endpoint is working\",\n        methods: [\n            \"POST\"\n        ]\n    }, {\n        status: 200,\n        headers: _lib_rate_limiter__WEBPACK_IMPORTED_MODULE_5__.securityHeaders\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jb250YWN0L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsa0NBQWtDO0FBQ2xDLDhCQUE4QjtBQUV5QixDQUFDLHFCQUFxQjtBQUMxQyxDQUFDLFFBQVE7QUFDWSxDQUFDLGFBQWE7QUFDa0IsQ0FBQyxZQUFZO0FBQ0csQ0FBQyxPQUFPO0FBQ2IsQ0FBQyxVQUFVO0FBYTlHLDRCQUE0QjtBQUM1Qiw2QkFBNkI7QUFDN0IsTUFBTWMsb0JBQW9CO0lBQ3hCLHlCQUF5QjtJQUN6QixNQUFNQyxZQUFZQyxRQUFRQyxHQUFHLENBQUNDLFNBQVMsSUFBSUYsUUFBUUMsR0FBRyxDQUFDRSxVQUFVO0lBQ2pFLE1BQU1DLGdCQUFnQkosUUFBUUMsR0FBRyxDQUFDSSxTQUFTLElBQUlMLFFBQVFDLEdBQUcsQ0FBQ0ssY0FBYyxJQUFJTixRQUFRQyxHQUFHLENBQUNNLFVBQVU7SUFDbkcsTUFBTUMsV0FBV1IsUUFBUUMsR0FBRyxDQUFDUSxTQUFTLElBQUk7SUFDMUMsTUFBTUMsV0FBV0MsU0FBU1gsUUFBUUMsR0FBRyxDQUFDVyxTQUFTLElBQUk7SUFFbkQsc0JBQXNCO0lBQ3RCLElBQUksQ0FBQ2IsYUFBYSxDQUFDSyxlQUFlO1FBQ2hDLE1BQU0sSUFBSVMsTUFBTTtJQUNsQjtJQUVBLG1DQUFtQztJQUNuQyxNQUFNQyxZQUFZSixhQUFhO0lBRS9CLE9BQU96Qix1REFBMEIsQ0FBQztRQUNoQytCLE1BQU1SO1FBQ05TLE1BQU1QO1FBQ05RLFFBQVFKO1FBQ1JLLE1BQU07WUFDSkMsTUFBTXJCO1lBQ05zQixNQUFNakIsY0FBYyxjQUFjO1FBQ3BDO1FBQ0FrQixLQUFLO1lBQ0hDLG9CQUFvQixNQUFNLFVBQVU7UUFDdEM7SUFDRjtBQUNGO0FBRUEsa0NBQWtDO0FBQ2xDLDZCQUE2QjtBQUM3QixNQUFNQywyQkFBMkIsQ0FBQ0M7SUFDaEMsT0FBTyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsrQkFn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UUFBQyxHQUFHLFNBQVM7O1FBRS9FLHlCQUF5QjtRQUN6QixPQUFPakcscURBQVlBLENBQUN3RCxJQUFJLENBQ3RCO1lBQ0VvQyxPQUFPSSxTQUFTaEQsT0FBTztZQUN2QmtELE1BQU1GLFNBQVNFLElBQUksSUFBSSxnQkFBZ0IsT0FBTztRQUNoRCxHQUNBO1lBQ0VILFFBQVFDLFNBQVNHLFVBQVUsSUFBSTtZQUMvQnJCLFNBQVNqRSw4REFBZUEsQ0FBQyxPQUFPO1FBQ2xDO0lBRUo7QUFDRjtBQUVBLDRCQUE0QjtBQUM1QixtQkFBbUI7QUFDWixlQUFldUY7SUFDcEIsT0FBT3BHLHFEQUFZQSxDQUFDd0QsSUFBSSxDQUN0QjtRQUNFUixTQUFTO1FBQ1RxRCxTQUFTO1lBQUM7U0FBTztJQUNuQixHQUNBO1FBQ0VOLFFBQVE7UUFDUmpCLFNBQVNqRSw4REFBZUE7SUFDMUI7QUFFSiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlbGwtbGktY2FzZXMvLi9zcmMvYXBwL2FwaS9jb250YWN0L3JvdXRlLnRzPzAyMGEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g44CQ6YeN54K544CR6IGU57O76KGo5Y2VQVBJ5o6l5Y+jIC0g5aSE55CG572R56uZ6IGU57O76KGo5Y2V5o+Q5Lqk5ZKM6YKu5Lu25Y+R6YCBXG4vLyDov5nkuKrmlofku7botJ/otKPmjqXmlLbnlKjmiLflkqjor6LvvIzkv53lrZjliLDmlbDmja7lupPvvIzlubblj5HpgIHpgq7ku7bpgJrnn6VcblxuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJyAvLyBOZXh0Lmpz5pyN5Yqh5Zmo56uv6K+35rGC5ZKM5ZON5bqU5aSE55CGXG5pbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJyAvLyDpgq7ku7blj5HpgIHlupNcbmltcG9ydCB7IGdldERhdGFiYXNlLCBDT0xMRUNUSU9OUyB9IGZyb20gJ0AvbGliL21vbmdvZGInIC8vIOaVsOaNruW6k+i/nuaOpeWSjOmbhuWQiOWumuS5iVxuaW1wb3J0IHsgSW5xdWlyeSwgRGVmYXVsdElucXVpcnksIHZhbGlkYXRlSW5xdWlyeSwgc2FuaXRpemVJbnF1aXJ5IH0gZnJvbSAnQC9saWIvbW9kZWxzJyAvLyDlkqjor6LmlbDmja7mqKHlnovlkozpqozor4FcbmltcG9ydCB7IEFwcEVycm9yLCBWYWxpZGF0aW9uRXJyb3IsIERhdGFiYXNlRXJyb3IsIGxvZ0Vycm9yLCBoYW5kbGVBcGlFcnJvciB9IGZyb20gJ0AvbGliL2Vycm9yLWhhbmRsZXInIC8vIOmUmeivr+WkhOeQhlxuaW1wb3J0IHsgY29udGFjdEZvcm1MaW1pdGVyLCBjcmVhdGVSYXRlTGltaXRNaWRkbGV3YXJlLCBzZWN1cml0eUhlYWRlcnMgfSBmcm9tICdAL2xpYi9yYXRlLWxpbWl0ZXInIC8vIOmZkOa1geWSjOWuieWFqOS/neaKpFxuXG4vLyDjgJDph43ngrnjgJHogZTns7vooajljZXmlbDmja7nsbvlnovlrprkuYkgLSDlrprkuYnliY3nq6/mj5DkuqTnmoTooajljZXmlbDmja7nu5PmnoRcbmludGVyZmFjZSBDb250YWN0Rm9ybURhdGEge1xuICBuYW1lOiBzdHJpbmcgLy8g5a6i5oi35aeT5ZCN77yI5b+F5aGr77yJXG4gIGVtYWlsOiBzdHJpbmcgLy8g5a6i5oi36YKu566x77yI5b+F5aGr77yJXG4gIHBob25lPzogc3RyaW5nIC8vIOWuouaIt+eUteivne+8iOWPr+mAie+8iVxuICBjb3VudHJ5OiBzdHJpbmcgLy8g5a6i5oi35Zu95a6277yI5b+F5aGr77yJXG4gIGNvbXBhbnk/OiBzdHJpbmcgLy8g5a6i5oi35YWs5Y+477yI5Y+v6YCJ77yJXG4gIHByb2R1Y3RJbnRlcmVzdD86IHN0cmluZyAvLyDmhJ/lhbTotqPnmoTkuqflk4HvvIjlj6/pgInvvIlcbiAgbWVzc2FnZTogc3RyaW5nIC8vIOWSqOivoua2iOaBr++8iOW/heWhq++8iVxufVxuXG4vLyDjgJDph43ngrnjgJHliJvlu7rpgq7ku7blj5HpgIHlmaggLSDphY3nva5TTVRQ5pyN5Yqh5Zmo6L+e5o6lXG4vLyDmlK/mjIFHbWFpbOWSjOWFtuS7llNNVFDmnI3liqHlmajvvIznlKjkuo7lj5HpgIHpgJrnn6Xpgq7ku7ZcbmNvbnN0IGNyZWF0ZVRyYW5zcG9ydGVyID0gKCkgPT4ge1xuICAvLyDjgJDph43ngrnjgJHlhbzlrrnmgKflpITnkIYgLSDmlK/mjIHlpJrnp43njq/looPlj5jph4/lkI3np7BcbiAgY29uc3QgZW1haWxVc2VyID0gcHJvY2Vzcy5lbnYuU01UUF9VU0VSIHx8IHByb2Nlc3MuZW52LkVNQUlMX1VTRVJcbiAgY29uc3QgZW1haWxQYXNzd29yZCA9IHByb2Nlc3MuZW52LlNNVFBfUEFTUyB8fCBwcm9jZXNzLmVudi5FTUFJTF9QQVNTV09SRCB8fCBwcm9jZXNzLmVudi5FTUFJTF9QQVNTXG4gIGNvbnN0IHNtdHBIb3N0ID0gcHJvY2Vzcy5lbnYuU01UUF9IT1NUIHx8ICdzbXRwLmdtYWlsLmNvbSdcbiAgY29uc3Qgc210cFBvcnQgPSBwYXJzZUludChwcm9jZXNzLmVudi5TTVRQX1BPUlQgfHwgJzU4NycpXG4gIFxuICAvLyDjgJDph43ngrnjgJHphY3nva7mo4Dmn6UgLSDnoa7kv53pgq7ku7bphY3nva7lrozmlbRcbiAgaWYgKCFlbWFpbFVzZXIgfHwgIWVtYWlsUGFzc3dvcmQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtYWlsIGNvbmZpZ3VyYXRpb24gbWlzc2luZy4gUGxlYXNlIHNldCBTTVRQX1VTRVIgYW5kIFNNVFBfUEFTUyBlbnZpcm9ubWVudCB2YXJpYWJsZXMuJylcbiAgfVxuICBcbiAgLy8g44CQ6YeN54K544CR5Yib5bu6MTYz6YKu566xU01UUOS8oOi+k+WZqCAtIOmAgumFjee9keaYkzE2M+mCrueusemFjee9rlxuICBjb25zdCBpc1BvcnQ0NjUgPSBzbXRwUG9ydCA9PT0gNDY1XG4gIFxuICByZXR1cm4gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xuICAgIGhvc3Q6IHNtdHBIb3N0LCAvLyBTTVRQ5pyN5Yqh5Zmo5Zyw5Z2AXG4gICAgcG9ydDogc210cFBvcnQsIC8vIFNNVFDnq6/lj6NcbiAgICBzZWN1cmU6IGlzUG9ydDQ2NSwgLy8gNDY156uv5Y+j5L2/55SoU1NM77yMNTg35L2/55SoVExTXG4gICAgYXV0aDogeyAvLyDorqTor4Hkv6Hmga9cbiAgICAgIHVzZXI6IGVtYWlsVXNlciwgLy8g5Y+R6YCB6YKu566x6LSm5Y+3XG4gICAgICBwYXNzOiBlbWFpbFBhc3N3b3JkIC8vIOWPkemAgemCrueuseWvhueggeaIluW6lOeUqOWvhueggVxuICAgIH0sXG4gICAgdGxzOiB7XG4gICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlIC8vIOWFgeiuuOiHquetvuWQjeivgeS5plxuICAgIH1cbiAgfSlcbn1cblxuLy8g44CQ6YeN54K544CR566h55CG5ZGY6YCa55+l6YKu5Lu25qih5p2/IC0g5b2T5pyJ5paw5ZKo6K+i5pe25Y+R6YCB57uZ566h55CG5ZGY55qE6YKu5Lu2XG4vLyDkvb/nlKhIVE1M5qC85byP77yM5YyF5ZCr5a6M5pW055qE5a6i5oi35L+h5oGv5ZKM5LiT5Lia55qE6YKu5Lu25qC35byPXG5jb25zdCBjcmVhdGVBZG1pbkVtYWlsVGVtcGxhdGUgPSAoZGF0YTogQ29udGFjdEZvcm1EYXRhKSA9PiB7XG4gIHJldHVybiBgXG4gICAgPCFET0NUWVBFIGh0bWw+XG4gICAgPGh0bWw+XG4gICAgPGhlYWQ+XG4gICAgICA8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cbiAgICAgIDx0aXRsZT5OZXcgSW5xdWlyeSBmcm9tIFdFTEwtTEkgV2Vic2l0ZTwvdGl0bGU+XG4gICAgICA8c3R5bGU+XG4gICAgICAgIC8qIOOAkOmHjeeCueOAkemCruS7tuagt+W8jyAtIOehruS/neWcqOWQhOenjemCruS7tuWuouaIt+err+S4reato+W4uOaYvuekuiAqL1xuICAgICAgICBib2R5IHsgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBsaW5lLWhlaWdodDogMS42OyBjb2xvcjogIzMzMzsgfVxuICAgICAgICAuY29udGFpbmVyIHsgbWF4LXdpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87IHBhZGRpbmc6IDIwcHg7IH1cbiAgICAgICAgLmhlYWRlciB7IGJhY2tncm91bmQ6ICMxZjI5Mzc7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMjBweDsgdGV4dC1hbGlnbjogY2VudGVyOyB9XG4gICAgICAgIC5jb250ZW50IHsgYmFja2dyb3VuZDogI2Y5ZmFmYjsgcGFkZGluZzogMjBweDsgfVxuICAgICAgICAuZmllbGQgeyBtYXJnaW4tYm90dG9tOiAxNXB4OyB9XG4gICAgICAgIC5sYWJlbCB7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzM3NDE1MTsgfVxuICAgICAgICAudmFsdWUgeyBtYXJnaW4tdG9wOiA1cHg7IHBhZGRpbmc6IDEwcHg7IGJhY2tncm91bmQ6IHdoaXRlOyBib3JkZXItbGVmdDogNHB4IHNvbGlkICMzYjgyZjY7IH1cbiAgICAgICAgLm1lc3NhZ2UgeyBiYWNrZ3JvdW5kOiB3aGl0ZTsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogNXB4OyBtYXJnaW4tdG9wOiAxMHB4OyB9XG4gICAgICAgIC5mb290ZXIgeyB0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDIwcHg7IGNvbG9yOiAjNmI3MjgwOyBmb250LXNpemU6IDE0cHg7IH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9oZWFkPlxuICAgIDxib2R5PlxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICAgICAgICA8IS0tIOOAkOmHjeeCueOAkemCruS7tuWktOmDqCAtIOaYvuekuuWFrOWPuOS/oeaBr+WSjOmAmuefpeexu+WeiyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgIDxoMT5OZXcgQ3VzdG9tZXIgSW5xdWlyeTwvaDE+XG4gICAgICAgICAgPHA+V0VMTC1MSSBDYXNlcyBXZWJzaXRlPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDwhLS0g44CQ6YeN54K544CR6YKu5Lu25YaF5a65IC0g5pi+56S65a6i5oi35o+Q5Lqk55qE5omA5pyJ5L+h5oGvIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICAgIDwhLS0g5a6i5oi35aeT5ZCNIC0tPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWVsZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmVsXCI+Q3VzdG9tZXIgTmFtZTo8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2YWx1ZVwiPiR7ZGF0YS5uYW1lfTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDwhLS0g5a6i5oi36YKu566xIC0tPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWVsZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmVsXCI+RW1haWwgQWRkcmVzczo8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2YWx1ZVwiPiR7ZGF0YS5lbWFpbH08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8IS0tIOWuouaIt+eUteivne+8iOWmguaenOaPkOS+m++8iSAtLT5cbiAgICAgICAgICAke2RhdGEucGhvbmUgPyBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGFiZWxcIj5QaG9uZSBOdW1iZXI6PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidmFsdWVcIj4ke2RhdGEucGhvbmV9PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYCA6ICcnfVxuICAgICAgICAgIFxuICAgICAgICAgIDwhLS0g5a6i5oi35Zu95a62IC0tPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWVsZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmVsXCI+Q291bnRyeTo8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2YWx1ZVwiPiR7ZGF0YS5jb3VudHJ5fTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDwhLS0g5a6i5oi35YWs5Y+477yI5aaC5p6c5o+Q5L6b77yJIC0tPlxuICAgICAgICAgICR7ZGF0YS5jb21wYW55ID8gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWVsZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmVsXCI+Q29tcGFueTo8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2YWx1ZVwiPiR7ZGF0YS5jb21wYW55fTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGAgOiAnJ31cbiAgICAgICAgICBcbiAgICAgICAgICA8IS0tIOaEn+WFtOi2o+eahOS6p+WTge+8iOWmguaenOmAieaLqe+8iSAtLT5cbiAgICAgICAgICAke2RhdGEucHJvZHVjdEludGVyZXN0ID8gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWVsZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmVsXCI+UHJvZHVjdCBvZiBJbnRlcmVzdDo8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2YWx1ZVwiPiR7ZGF0YS5wcm9kdWN0SW50ZXJlc3R9PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYCA6ICcnfVxuICAgICAgICAgIFxuICAgICAgICAgIDwhLS0g5a6i5oi35ZKo6K+i5raI5oGvIC0tPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWVsZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmVsXCI+TWVzc2FnZTo8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXNzYWdlXCI+JHtkYXRhLm1lc3NhZ2UucmVwbGFjZSgvXFxuL2csICc8YnI+Jyl9PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPCEtLSDjgJDph43ngrnjgJHpgq7ku7blupXpg6ggLSDmj5DphpLnrqHnkIblkZjlj4rml7blm57lpI0gLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cbiAgICAgICAgICA8cD5UaGlzIGlucXVpcnkgd2FzIHN1Ym1pdHRlZCB0aHJvdWdoIHRoZSBXRUxMLUxJIENhc2VzIHdlYnNpdGUgY29udGFjdCBmb3JtLjwvcD5cbiAgICAgICAgICA8cD5QbGVhc2UgcmVzcG9uZCB0byB0aGUgY3VzdG9tZXIgd2l0aGluIDI0IGhvdXJzLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2JvZHk+XG4gICAgPC9odG1sPlxuICBgXG59XG5cbi8vIOOAkOmHjeeCueOAkeWuouaIt+ehruiupOmCruS7tuaooeadvyAtIOWQkeWuouaIt+WPkemAgeeahOiHquWKqOehruiupOmCruS7tlxuLy8g5ZGK55+l5a6i5oi35oiR5Lus5bey5pS25Yiw5ZKo6K+i77yM5bm26K+05piO5ZCO57ut5aSE55CG5rWB56iLXG5jb25zdCBjcmVhdGVDdXN0b21lckVtYWlsVGVtcGxhdGUgPSAoZGF0YTogQ29udGFjdEZvcm1EYXRhKSA9PiB7XG4gIHJldHVybiBgXG4gICAgPCFET0NUWVBFIGh0bWw+XG4gICAgPGh0bWw+XG4gICAgPGhlYWQ+XG4gICAgICA8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cbiAgICAgIDx0aXRsZT5UaGFuayB5b3UgZm9yIHlvdXIgaW5xdWlyeSAtIFdFTEwtTEkgQ2FzZXM8L3RpdGxlPlxuICAgICAgPHN0eWxlPlxuICAgICAgICAvKiDjgJDph43ngrnjgJHlrqLmiLfpgq7ku7bmoLflvI8gLSDkuJPkuJrlj4vlpb3nmoTnoa7orqTpgq7ku7bmoLflvI8gKi9cbiAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgbGluZS1oZWlnaHQ6IDEuNjsgY29sb3I6ICMzMzM7IH1cbiAgICAgICAgLmNvbnRhaW5lciB7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiAyMHB4OyB9XG4gICAgICAgIC5oZWFkZXIgeyBiYWNrZ3JvdW5kOiAjMWYyOTM3OyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDIwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgfVxuICAgICAgICAuY29udGVudCB7IGJhY2tncm91bmQ6ICNmOWZhZmI7IHBhZGRpbmc6IDIwcHg7IH1cbiAgICAgICAgLmhpZ2hsaWdodCB7IGJhY2tncm91bmQ6ICNkYmVhZmU7IHBhZGRpbmc6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDVweDsgbWFyZ2luOiAyMHB4IDA7IH1cbiAgICAgICAgLmNvbnRhY3QtaW5mbyB7IGJhY2tncm91bmQ6IHdoaXRlOyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiA1cHg7IG1hcmdpbjogMjBweCAwOyB9XG4gICAgICAgIC5mb290ZXIgeyB0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDIwcHg7IGNvbG9yOiAjNmI3MjgwOyBmb250LXNpemU6IDE0cHg7IH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9oZWFkPlxuICAgIDxib2R5PlxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICAgICAgICA8IS0tIOOAkOmHjeeCueOAkeaEn+iwouagh+mimCAtIOihqOi+vuWvueWuouaIt+WSqOivoueahOaEn+iwoiAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgIDxoMT5UaGFuayBZb3UgZm9yIFlvdXIgSW5xdWlyeSE8L2gxPlxuICAgICAgICAgIDxwPldFTEwtTEkgUGxhc3RpYyBQcm9kdWN0cyBDby4sIEx0ZC48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPCEtLSDjgJDph43ngrnjgJHpgq7ku7bkuLvkvZPlhoXlrrkgLSDor6bnu4bor7TmmI7lkI7nu63lpITnkIbmtYHnqIsgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgICAgPHA+RGVhciAke2RhdGEubmFtZX0sPC9wPlxuICAgICAgICAgIFxuICAgICAgICAgIDxwPlRoYW5rIHlvdSBmb3IgeW91ciBpbnRlcmVzdCBpbiBXRUxMLUxJIENhc2VzLiBXZSBoYXZlIHJlY2VpdmVkIHlvdXIgaW5xdWlyeSBhbmQgb3VyIHRlYW0gd2lsbCByZXZpZXcgeW91ciByZXF1aXJlbWVudHMgY2FyZWZ1bGx5LjwvcD5cbiAgICAgICAgICBcbiAgICAgICAgICA8IS0tIOOAkOmHjeeCueOAkeWkhOeQhua1geeoi+ivtOaYjiAtIOiuqeWuouaIt+S6huino+aOpeS4i+adpeS8muWPkeeUn+S7gOS5iCAtLT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGlnaGxpZ2h0XCI+XG4gICAgICAgICAgICA8aDM+V2hhdCBoYXBwZW5zIG5leHQ/PC9oMz5cbiAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgPGxpPk91ciBzYWxlcyB0ZWFtIHdpbGwgcmV2aWV3IHlvdXIgaW5xdWlyeSB3aXRoaW4gMjQgaG91cnM8L2xpPlxuICAgICAgICAgICAgICA8bGk+V2UnbGwgcHJlcGFyZSBhIGN1c3RvbWl6ZWQgcXVvdGUgYmFzZWQgb24geW91ciByZXF1aXJlbWVudHM8L2xpPlxuICAgICAgICAgICAgICA8bGk+WW91J2xsIHJlY2VpdmUgYSBkZXRhaWxlZCByZXNwb25zZSB3aXRoIHByb2R1Y3Qgc3BlY2lmaWNhdGlvbnMgYW5kIHByaWNpbmc8L2xpPlxuICAgICAgICAgICAgICA8bGk+T3VyIHRlYW0gd2lsbCBiZSBhdmFpbGFibGUgdG8gYW5zd2VyIGFueSBhZGRpdGlvbmFsIHF1ZXN0aW9uczwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDwhLS0g44CQ6YeN54K544CR6IGU57O75L+h5oGvIC0g5o+Q5L6b55u05o6l6IGU57O75pa55byPIC0tPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWN0LWluZm9cIj5cbiAgICAgICAgICAgIDxoMz5Db250YWN0IEluZm9ybWF0aW9uPC9oMz5cbiAgICAgICAgICAgIDxwPjxzdHJvbmc+RW1haWw6PC9zdHJvbmc+IGluZm9Ad2VsbC1saS5jb208L3A+XG4gICAgICAgICAgICA8cD48c3Ryb25nPlBob25lOjwvc3Ryb25nPiArODYgMjAgMTIzNCA1Njc4PC9wPlxuICAgICAgICAgICAgPHA+PHN0cm9uZz5BZGRyZXNzOjwvc3Ryb25nPiBJbmR1c3RyaWFsIFpvbmUsIEd1YW5nemhvdSwgQ2hpbmE8L3A+XG4gICAgICAgICAgICA8cD48c3Ryb25nPkJ1c2luZXNzIEhvdXJzOjwvc3Ryb25nPiBNb24tRnJpIDg6MDAgQU0gLSA2OjAwIFBNIChHTVQrOCk8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPHA+SWYgeW91IGhhdmUgYW55IHVyZ2VudCBxdWVzdGlvbnMsIHBsZWFzZSBkb24ndCBoZXNpdGF0ZSB0byBjb250YWN0IHVzIGRpcmVjdGx5LjwvcD5cbiAgICAgICAgICBcbiAgICAgICAgICA8cD5CZXN0IHJlZ2FyZHMsPGJyPlxuICAgICAgICAgIFRoZSBXRUxMLUxJIENhc2VzIFRlYW08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPCEtLSDjgJDph43ngrnjgJHpgq7ku7blupXpg6ggLSDlhazlj7jkv6Hmga/lkozlhY3otKPlo7DmmI4gLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cbiAgICAgICAgICA8cD5XRUxMLUxJIFBsYXN0aWMgUHJvZHVjdHMgQ28uLCBMdGQuIHwgUmVsaWFibGUgUHJvdGVjdGl2ZSBDYXNlcyBNYW51ZmFjdHVyZXI8L3A+XG4gICAgICAgICAgPHA+VGhpcyBpcyBhbiBhdXRvbWF0ZWQgY29uZmlybWF0aW9uIGVtYWlsLiBQbGVhc2UgZG8gbm90IHJlcGx5IHRvIHRoaXMgZW1haWwuPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gIGBcbn1cblxuLy8g44CQ6YeN54K544CRUE9TVOaOpeWPoyAtIOWkhOeQhuiBlOezu+ihqOWNleaPkOS6pFxuLy8g6L+Z5piv5Li76KaB55qEQVBJ56uv54K577yM6LSf6LSj5o6l5pS26KGo5Y2V5pWw5o2u44CB6aqM6K+B44CB5L+d5a2Y5Yiw5pWw5o2u5bqT5bm25Y+R6YCB6YKu5Lu2XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIOOAkOmHjeeCueOAkemZkOa1geS/neaKpCAtIOmYsuatouaBtuaEj+aPkOS6pOWSjOWeg+WcvumCruS7tlxuICAgIGNvbnN0IHJhdGVMaW1pdE1pZGRsZXdhcmUgPSBjcmVhdGVSYXRlTGltaXRNaWRkbGV3YXJlKGNvbnRhY3RGb3JtTGltaXRlcilcbiAgICBjb25zdCByYXRlTGltaXRSZXN1bHQgPSByYXRlTGltaXRNaWRkbGV3YXJlKHJlcXVlc3QpXG4gICAgXG4gICAgLy8g44CQ6YeN54K544CR6Kej5p6Q6K+35rGC5L2TIC0g6I635Y+W5a6i5oi35o+Q5Lqk55qE6KGo5Y2V5pWw5o2uXG4gICAgY29uc3QgYm9keTogQ29udGFjdEZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBcbiAgICAvLyDjgJDph43ngrnjgJHmlbDmja7pqozor4EgLSDnoa7kv53miYDmnInlv4XloavlrZfmrrXpg73lrZjlnKjkuJTmoLzlvI/mraPnoa5cbiAgICBjb25zdCB2YWxpZGF0aW9uID0gdmFsaWRhdGVJbnF1aXJ5KGJvZHkpXG4gICAgaWYgKCF2YWxpZGF0aW9uLmlzVmFsaWQpIHtcbiAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ1ZhbGlkYXRpb24gZmFpbGVkJywgdmFsaWRhdGlvbi5lcnJvcnMpXG4gICAgfVxuICAgIFxuICAgIC8vIOOAkOmHjeeCueOAkeaVsOaNrua4heeQhiAtIOmYsuatolhTU+aUu+WHu+WSjOaBtuaEj+S7o+eggeazqOWFpVxuICAgIGNvbnN0IHNhbml0aXplZERhdGEgPSBzYW5pdGl6ZUlucXVpcnkoYm9keSlcbiAgICBcbiAgICAvLyDjgJDph43ngrnjgJHliJvlu7rpgq7ku7blj5HpgIHlmaggLSDlh4blpIflj5HpgIHpgJrnn6Xpgq7ku7ZcbiAgICBjb25zdCB0cmFuc3BvcnRlciA9IGNyZWF0ZVRyYW5zcG9ydGVyKClcbiAgICBcbiAgICAvLyDjgJDph43ngrnjgJHlh4blpIfnrqHnkIblkZjpgJrnn6Xpgq7ku7YgLSDlsIblrqLmiLflkqjor6Llj5HpgIHnu5nnrqHnkIblkZhcbiAgICBjb25zdCBhZG1pbkVtYWlsT3B0aW9ucyA9IHtcbiAgICAgIGZyb206IHByb2Nlc3MuZW52LlNNVFBfRlJPTSB8fCBwcm9jZXNzLmVudi5TTVRQX1VTRVIgfHwgcHJvY2Vzcy5lbnYuRU1BSUxfVVNFUiwgLy8g5Y+R5Lu25Lq66YKu566xXG4gICAgICB0bzogcHJvY2Vzcy5lbnYuU01UUF9UTyB8fCBwcm9jZXNzLmVudi5BRE1JTl9FTUFJTCB8fCBwcm9jZXNzLmVudi5TTVRQX1VTRVIgfHwgcHJvY2Vzcy5lbnYuRU1BSUxfVVNFUiwgLy8g566h55CG5ZGY6YKu566xXG4gICAgICBzdWJqZWN0OiBgTmV3IElucXVpcnkgZnJvbSAke3Nhbml0aXplZERhdGEubmFtZX0gLSBXRUxMLUxJIENhc2VzYCwgLy8g6YKu5Lu25Li76aKYXG4gICAgICBodG1sOiBjcmVhdGVBZG1pbkVtYWlsVGVtcGxhdGUoc2FuaXRpemVkRGF0YSBhcyBDb250YWN0Rm9ybURhdGEpIC8vIEhUTUzpgq7ku7blhoXlrrlcbiAgICB9XG4gICAgXG4gICAgLy8g44CQ6YeN54K544CR5YeG5aSH5a6i5oi356Gu6K6k6YKu5Lu2IC0g5ZCR5a6i5oi35Y+R6YCB56Gu6K6k5pS25Yiw5ZKo6K+i55qE6YKu5Lu2XG4gICAgY29uc3QgY3VzdG9tZXJFbWFpbE9wdGlvbnMgPSB7XG4gICAgICBmcm9tOiBwcm9jZXNzLmVudi5TTVRQX0ZST00gfHwgcHJvY2Vzcy5lbnYuU01UUF9VU0VSIHx8IHByb2Nlc3MuZW52LkVNQUlMX1VTRVIsIC8vIOWPkeS7tuS6uumCrueusVxuICAgICAgdG86IHNhbml0aXplZERhdGEuZW1haWwsIC8vIOWuouaIt+mCrueusVxuICAgICAgc3ViamVjdDogJ1RoYW5rIHlvdSBmb3IgeW91ciBpbnF1aXJ5IC0gV0VMTC1MSSBDYXNlcycsIC8vIOmCruS7tuS4u+mimFxuICAgICAgaHRtbDogY3JlYXRlQ3VzdG9tZXJFbWFpbFRlbXBsYXRlKHNhbml0aXplZERhdGEgYXMgQ29udGFjdEZvcm1EYXRhKSAvLyBIVE1M6YKu5Lu25YaF5a65XG4gICAgfVxuICAgIFxuICAgIC8vIOOAkOmHjeeCueOAkeW5tuihjOWPkemAgemCruS7tiAtIOWQjOaXtuWPkemAgeeuoeeQhuWRmOmAmuefpeWSjOWuouaIt+ehruiupOmCruS7tlxuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHRyYW5zcG9ydGVyLnNlbmRNYWlsKGFkbWluRW1haWxPcHRpb25zKSxcbiAgICAgIHRyYW5zcG9ydGVyLnNlbmRNYWlsKGN1c3RvbWVyRW1haWxPcHRpb25zKVxuICAgIF0pXG4gICAgXG4gICAgLy8g44CQ6YeN54K544CR5L+d5a2Y5ZKo6K+i5Yiw5pWw5o2u5bqTIC0g6K6w5b2V5a6i5oi35ZKo6K+i5L+h5oGv55So5LqO5ZCO57ut6Lef6L+bXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGF0YWJhc2UoKSAvLyDov57mjqXmlbDmja7lupNcbiAgICAgIFxuICAgICAgLy8g44CQ6YeN54K544CR5p6E5bu65ZKo6K+i6K6w5b2VIC0g5YyF5ZCr5a6i5oi35L+h5oGv5ZKM57O757uf5L+h5oGvXG4gICAgICBjb25zdCBpbnF1aXJ5OiBQYXJ0aWFsPElucXVpcnk+ID0ge1xuICAgICAgICAuLi5EZWZhdWx0SW5xdWlyeSwgLy8g6buY6K6k5a2X5q615YC8XG4gICAgICAgIG5hbWU6IHNhbml0aXplZERhdGEubmFtZSwgLy8g5a6i5oi35aeT5ZCNXG4gICAgICAgIGVtYWlsOiBzYW5pdGl6ZWREYXRhLmVtYWlsLCAvLyDlrqLmiLfpgq7nrrFcbiAgICAgICAgcGhvbmU6IHNhbml0aXplZERhdGEucGhvbmUsIC8vIOWuouaIt+eUteivnVxuICAgICAgICBjb3VudHJ5OiBzYW5pdGl6ZWREYXRhLmNvdW50cnksIC8vIOWuouaIt+WbveWutlxuICAgICAgICBjb21wYW55OiBzYW5pdGl6ZWREYXRhLmNvbXBhbnksIC8vIOWuouaIt+WFrOWPuFxuICAgICAgICBwcm9kdWN0SW50ZXJlc3Q6IHNhbml0aXplZERhdGEucHJvZHVjdEludGVyZXN0LCAvLyDmhJ/lhbTotqPnmoTkuqflk4FcbiAgICAgICAgbWVzc2FnZTogc2FuaXRpemVkRGF0YS5tZXNzYWdlLCAvLyDlkqjor6Lmtojmga9cbiAgICAgICAgaXBBZGRyZXNzOiByZXF1ZXN0LmlwIHx8IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtZm9yd2FyZGVkLWZvcicpIHx8ICd1bmtub3duJywgLy8g5a6i5oi3SVDlnLDlnYBcbiAgICAgICAgdXNlckFnZW50OiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50JykgfHwgJ3Vua25vd24nLCAvLyDlrqLmiLfmtY/op4jlmajkv6Hmga9cbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLCAvLyDliJvlu7rml7bpl7RcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIC8vIOabtOaWsOaXtumXtFxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDjgJDph43ngrnjgJHmj5LlhaXmlbDmja7lupMgLSDkv53lrZjlkqjor6LorrDlvZVcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oQ09MTEVDVElPTlMuSU5RVUlSSUVTKS5pbnNlcnRPbmUoaW5xdWlyeSlcbiAgICAgIGNvbnNvbGUubG9nKCdJbnF1aXJ5IHNhdmVkIHRvIGRhdGFiYXNlOicsIHJlc3VsdC5pbnNlcnRlZElkKVxuICAgIH0gY2F0Y2ggKGRiRXJyb3IpIHtcbiAgICAgIC8vIOOAkOmHjeeCueOAkeaVsOaNruW6k+mUmeivr+WkhOeQhiAtIOWNs+S9v+aVsOaNruW6k+S/neWtmOWksei0peS5n+imgee7p+e7reWPkemAgemCruS7tlxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgaW5xdWlyeSB0byBkYXRhYmFzZTonLCBkYkVycm9yKVxuICAgICAgbG9nRXJyb3IobmV3IERhdGFiYXNlRXJyb3IoJ0ZhaWxlZCB0byBzYXZlIGlucXVpcnknKSwgeyBjb250ZXh0OiAnY29udGFjdC1mb3JtJyB9KVxuICAgICAgLy8gQ29udGludWUgd2l0aCBlbWFpbCBzZW5kaW5nIGV2ZW4gaWYgZGF0YWJhc2Ugc2F2ZSBmYWlsc1xuICAgIH1cbiAgICBcbiAgICAvLyDjgJDph43ngrnjgJHov5Tlm57miJDlip/lk43lupQgLSDlkYrnn6XliY3nq6/mj5DkuqTmiJDlip9cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IFxuICAgICAgICBtZXNzYWdlOiAnSW5xdWlyeSBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5JywgLy8g5oiQ5Yqf5raI5oGvXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUgLy8g5oiQ5Yqf5qCH5b+XXG4gICAgICB9LFxuICAgICAgeyBcbiAgICAgICAgc3RhdHVzOiAyMDAsIC8vIEhUVFDnirbmgIHnoIFcbiAgICAgICAgaGVhZGVyczogc2VjdXJpdHlIZWFkZXJzIC8vIOWuieWFqOWktOmDqFxuICAgICAgfVxuICAgIClcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyDjgJDph43ngrnjgJHplJnor6/lpITnkIYgLSDnu5/kuIDlpITnkIblkITnp43plJnor6/mg4XlhrVcbiAgICBjb25zdCBhcHBFcnJvciA9IGhhbmRsZUFwaUVycm9yKGVycm9yKSAvLyDovazmjaLkuLrlupTnlKjplJnor69cbiAgICBsb2dFcnJvcihhcHBFcnJvciwgeyBjb250ZXh0OiAnY29udGFjdC1mb3JtJywgcmVxdWVzdDogcmVxdWVzdC51cmwgfSkgLy8g6K6w5b2V6ZSZ6K+v5pel5b+XXG4gICAgXG4gICAgLy8g44CQ6YeN54K544CR6L+U5Zue6ZSZ6K+v5ZON5bqUIC0g5ZCR5YmN56uv6L+U5Zue6ZSZ6K+v5L+h5oGvXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBcbiAgICAgICAgZXJyb3I6IGFwcEVycm9yLm1lc3NhZ2UsIC8vIOmUmeivr+a2iOaBr1xuICAgICAgICBjb2RlOiBhcHBFcnJvci5jb2RlIHx8ICdVTktOT1dOX0VSUk9SJyAvLyDplJnor6/ku6PnoIFcbiAgICAgIH0sXG4gICAgICB7IFxuICAgICAgICBzdGF0dXM6IGFwcEVycm9yLnN0YXR1c0NvZGUgfHwgNTAwLCAvLyBIVFRQ6ZSZ6K+v54q25oCB56CBXG4gICAgICAgIGhlYWRlcnM6IHNlY3VyaXR5SGVhZGVycyAvLyDlronlhajlpLTpg6hcbiAgICAgIH1cbiAgICApXG4gIH1cbn1cblxuLy8g44CQ6YeN54K544CRR0VU5o6l5Y+jIC0g55So5LqO5rWL6K+VQVBJ5piv5ZCm5q2j5bi45bel5L2cXG4vLyDlj6/pgInlip/og73vvIzkuLvopoHnlKjkuo7lgaXlurfmo4Dmn6XlkozosIPor5VcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICB7IFxuICAgICAgbWVzc2FnZTogJ0NvbnRhY3QgQVBJIGVuZHBvaW50IGlzIHdvcmtpbmcnLFxuICAgICAgbWV0aG9kczogWydQT1NUJ11cbiAgICB9LFxuICAgIHsgXG4gICAgICBzdGF0dXM6IDIwMCxcbiAgICAgIGhlYWRlcnM6IHNlY3VyaXR5SGVhZGVyc1xuICAgIH1cbiAgKVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJub2RlbWFpbGVyIiwiZ2V0RGF0YWJhc2UiLCJDT0xMRUNUSU9OUyIsIkRlZmF1bHRJbnF1aXJ5IiwidmFsaWRhdGVJbnF1aXJ5Iiwic2FuaXRpemVJbnF1aXJ5IiwiVmFsaWRhdGlvbkVycm9yIiwiRGF0YWJhc2VFcnJvciIsImxvZ0Vycm9yIiwiaGFuZGxlQXBpRXJyb3IiLCJjb250YWN0Rm9ybUxpbWl0ZXIiLCJjcmVhdGVSYXRlTGltaXRNaWRkbGV3YXJlIiwic2VjdXJpdHlIZWFkZXJzIiwiY3JlYXRlVHJhbnNwb3J0ZXIiLCJlbWFpbFVzZXIiLCJwcm9jZXNzIiwiZW52IiwiU01UUF9VU0VSIiwiRU1BSUxfVVNFUiIsImVtYWlsUGFzc3dvcmQiLCJTTVRQX1BBU1MiLCJFTUFJTF9QQVNTV09SRCIsIkVNQUlMX1BBU1MiLCJzbXRwSG9zdCIsIlNNVFBfSE9TVCIsInNtdHBQb3J0IiwicGFyc2VJbnQiLCJTTVRQX1BPUlQiLCJFcnJvciIsImlzUG9ydDQ2NSIsImNyZWF0ZVRyYW5zcG9ydCIsImhvc3QiLCJwb3J0Iiwic2VjdXJlIiwiYXV0aCIsInVzZXIiLCJwYXNzIiwidGxzIiwicmVqZWN0VW5hdXRob3JpemVkIiwiY3JlYXRlQWRtaW5FbWFpbFRlbXBsYXRlIiwiZGF0YSIsIm5hbWUiLCJlbWFpbCIsInBob25lIiwiY291bnRyeSIsImNvbXBhbnkiLCJwcm9kdWN0SW50ZXJlc3QiLCJtZXNzYWdlIiwicmVwbGFjZSIsImNyZWF0ZUN1c3RvbWVyRW1haWxUZW1wbGF0ZSIsIlBPU1QiLCJyZXF1ZXN0IiwicmF0ZUxpbWl0TWlkZGxld2FyZSIsInJhdGVMaW1pdFJlc3VsdCIsImJvZHkiLCJqc29uIiwidmFsaWRhdGlvbiIsImlzVmFsaWQiLCJlcnJvcnMiLCJzYW5pdGl6ZWREYXRhIiwidHJhbnNwb3J0ZXIiLCJhZG1pbkVtYWlsT3B0aW9ucyIsImZyb20iLCJTTVRQX0ZST00iLCJ0byIsIlNNVFBfVE8iLCJBRE1JTl9FTUFJTCIsInN1YmplY3QiLCJodG1sIiwiY3VzdG9tZXJFbWFpbE9wdGlvbnMiLCJQcm9taXNlIiwiYWxsIiwic2VuZE1haWwiLCJkYiIsImlucXVpcnkiLCJpcEFkZHJlc3MiLCJpcCIsImhlYWRlcnMiLCJnZXQiLCJ1c2VyQWdlbnQiLCJjcmVhdGVkQXQiLCJEYXRlIiwidXBkYXRlZEF0IiwicmVzdWx0IiwiY29sbGVjdGlvbiIsIklOUVVJUklFUyIsImluc2VydE9uZSIsImNvbnNvbGUiLCJsb2ciLCJpbnNlcnRlZElkIiwiZGJFcnJvciIsImVycm9yIiwiY29udGV4dCIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJhcHBFcnJvciIsInVybCIsImNvZGUiLCJzdGF0dXNDb2RlIiwiR0VUIiwibWV0aG9kcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/contact/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/error-handler.ts":
/*!**********************************!*\
  !*** ./src/lib/error-handler.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppError: () => (/* binding */ AppError),\n/* harmony export */   AuthenticationError: () => (/* binding */ AuthenticationError),\n/* harmony export */   DatabaseError: () => (/* binding */ DatabaseError),\n/* harmony export */   NetworkError: () => (/* binding */ NetworkError),\n/* harmony export */   ValidationError: () => (/* binding */ ValidationError),\n/* harmony export */   getFieldError: () => (/* binding */ getFieldError),\n/* harmony export */   handleApiError: () => (/* binding */ handleApiError),\n/* harmony export */   handleClientError: () => (/* binding */ handleClientError),\n/* harmony export */   logError: () => (/* binding */ logError),\n/* harmony export */   retryWithBackoff: () => (/* binding */ retryWithBackoff),\n/* harmony export */   safeAsync: () => (/* binding */ safeAsync),\n/* harmony export */   withErrorHandling: () => (/* binding */ withErrorHandling)\n/* harmony export */ });\n// Global error handling utilities\nclass AppError extends Error {\n    constructor(message, statusCode = 500, code){\n        super(message);\n        this.statusCode = statusCode;\n        this.code = code;\n        this.isOperational = true;\n        Error.captureStackTrace(this, this.constructor);\n    }\n}\n// Error types\nclass ValidationError extends AppError {\n    constructor(message, details){\n        super(message, 400, \"VALIDATION_ERROR\");\n        this.name = \"ValidationError\";\n    }\n}\nclass DatabaseError extends AppError {\n    constructor(message = \"Database operation failed\"){\n        super(message, 500, \"DATABASE_ERROR\");\n        this.name = \"DatabaseError\";\n    }\n}\nclass NetworkError extends AppError {\n    constructor(message = \"Network request failed\"){\n        super(message, 503, \"NETWORK_ERROR\");\n        this.name = \"NetworkError\";\n    }\n}\nclass AuthenticationError extends AppError {\n    constructor(message = \"Authentication failed\"){\n        super(message, 401, \"AUTH_ERROR\");\n        this.name = \"AuthenticationError\";\n    }\n}\n// Error logging function\nfunction logError(error, context) {\n    const errorInfo = {\n        message: error.message,\n        stack: error.stack,\n        timestamp: new Date(),\n        ...error instanceof AppError && {\n            code: error.code,\n            statusCode: error.statusCode\n        },\n        ... false && 0,\n        ...context\n    };\n    // Log to console in development\n    if (true) {\n        console.error(\"Error logged:\", errorInfo);\n    }\n    // In production, send to monitoring service\n    if (false) {}\n    return errorInfo;\n}\n// API error handler\nfunction handleApiError(error) {\n    // Network errors\n    if (error.name === \"TypeError\" && error.message.includes(\"fetch\")) {\n        return new NetworkError(\"Failed to connect to server\");\n    }\n    // HTTP errors\n    if (error.response) {\n        const status = error.response.status;\n        const message = error.response.data?.message || error.message;\n        switch(status){\n            case 400:\n                return new ValidationError(message);\n            case 401:\n                return new AuthenticationError(message);\n            case 404:\n                return new AppError(\"Resource not found\", 404, \"NOT_FOUND\");\n            case 429:\n                return new AppError(\"Too many requests\", 429, \"RATE_LIMIT\");\n            case 500:\n                return new AppError(\"Internal server error\", 500, \"SERVER_ERROR\");\n            default:\n                return new AppError(message, status);\n        }\n    }\n    // Database errors\n    if (error.name === \"MongoError\" || error.name === \"MongoServerError\") {\n        return new DatabaseError(`Database error: ${error.message}`);\n    }\n    // Validation errors\n    if (error.name === \"ValidationError\") {\n        return new ValidationError(error.message);\n    }\n    // Default error\n    return new AppError(error.message || \"An unexpected error occurred\");\n}\n// Async error wrapper\nfunction withErrorHandling(fn, context) {\n    return async (...args)=>{\n        try {\n            return await fn(...args);\n        } catch (error) {\n            const appError = handleApiError(error);\n            logError(appError, {\n                context,\n                args\n            });\n            throw appError;\n        }\n    };\n}\n// Client-side error handler\nfunction handleClientError(error, context) {\n    logError(error, {\n        context,\n        source: \"client\"\n    });\n    // Show user-friendly message\n    if (false) {} else {\n        return error.message;\n    }\n}\n// Form error handler\nfunction getFieldError(errors, field) {\n    if (!errors || typeof errors !== \"object\") return undefined;\n    const error = errors[field];\n    if (typeof error === \"string\") return error;\n    if (Array.isArray(error) && error.length > 0) return error[0];\n    if (error?.message) return error.message;\n    return undefined;\n}\n// Retry mechanism\nasync function retryWithBackoff(fn, maxRetries = 3, baseDelay = 1000) {\n    let lastError;\n    for(let i = 0; i <= maxRetries; i++){\n        try {\n            return await fn();\n        } catch (error) {\n            lastError = error;\n            if (i === maxRetries) {\n                throw lastError;\n            }\n            // Exponential backoff\n            const delay = baseDelay * Math.pow(2, i);\n            await new Promise((resolve)=>setTimeout(resolve, delay));\n        }\n    }\n    throw lastError;\n}\n// Safe async function wrapper\nfunction safeAsync(fn, fallback) {\n    return async (...args)=>{\n        try {\n            return await fn(...args);\n        } catch (error) {\n            logError(error, {\n                function: fn.name,\n                args\n            });\n            return fallback;\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxPQUFPd0M7QUFDVDtBQUVBLGtCQUFrQjtBQUNYLGVBQWVJLGlCQUNwQlosRUFBb0IsRUFDcEJhLGFBQXFCLENBQUMsRUFDdEJDLFlBQW9CLElBQUk7SUFFeEIsSUFBSUM7SUFFSixJQUFLLElBQUlDLElBQUksR0FBR0EsS0FBS0gsWUFBWUcsSUFBSztRQUNwQyxJQUFJO1lBQ0YsT0FBTyxNQUFNaEI7UUFDZixFQUFFLE9BQU9wQixPQUFPO1lBQ2RtQyxZQUFZbkM7WUFFWixJQUFJb0MsTUFBTUgsWUFBWTtnQkFDcEIsTUFBTUU7WUFDUjtZQUVBLHNCQUFzQjtZQUN0QixNQUFNRSxRQUFRSCxZQUFZSSxLQUFLQyxHQUFHLENBQUMsR0FBR0g7WUFDdEMsTUFBTSxJQUFJSSxRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTSjtRQUNuRDtJQUNGO0lBRUEsTUFBTUY7QUFDUjtBQUVBLDhCQUE4QjtBQUN2QixTQUFTUSxVQUNkdkIsRUFBSyxFQUNMd0IsUUFBYztJQUVkLE9BQVEsT0FBTyxHQUFHdkI7UUFDaEIsSUFBSTtZQUNGLE9BQU8sTUFBTUQsTUFBTUM7UUFDckIsRUFBRSxPQUFPckIsT0FBTztZQUNkRCxTQUFTQyxPQUFnQjtnQkFBRTZDLFVBQVV6QixHQUFHekIsSUFBSTtnQkFBRTBCO1lBQUs7WUFDbkQsT0FBT3VCO1FBQ1Q7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VsbC1saS1jYXNlcy8uL3NyYy9saWIvZXJyb3ItaGFuZGxlci50cz9lZDhiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEdsb2JhbCBlcnJvciBoYW5kbGluZyB1dGlsaXRpZXNcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JJbmZvIHtcclxuICBtZXNzYWdlOiBzdHJpbmdcclxuICBzdGFjaz86IHN0cmluZ1xyXG4gIGNvZGU/OiBzdHJpbmdcclxuICBzdGF0dXNDb2RlPzogbnVtYmVyXHJcbiAgdGltZXN0YW1wOiBEYXRlXHJcbiAgdXNlckFnZW50Pzogc3RyaW5nXHJcbiAgdXJsPzogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBcHBFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICBwdWJsaWMgc3RhdHVzQ29kZTogbnVtYmVyXHJcbiAgcHVibGljIGNvZGU/OiBzdHJpbmdcclxuICBwdWJsaWMgaXNPcGVyYXRpb25hbDogYm9vbGVhblxyXG5cclxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIHN0YXR1c0NvZGU6IG51bWJlciA9IDUwMCwgY29kZT86IHN0cmluZykge1xyXG4gICAgc3VwZXIobWVzc2FnZSlcclxuICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGVcclxuICAgIHRoaXMuY29kZSA9IGNvZGVcclxuICAgIHRoaXMuaXNPcGVyYXRpb25hbCA9IHRydWVcclxuXHJcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKVxyXG4gIH1cclxufVxyXG5cclxuLy8gRXJyb3IgdHlwZXNcclxuZXhwb3J0IGNsYXNzIFZhbGlkYXRpb25FcnJvciBleHRlbmRzIEFwcEVycm9yIHtcclxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM/OiBhbnkpIHtcclxuICAgIHN1cGVyKG1lc3NhZ2UsIDQwMCwgJ1ZBTElEQVRJT05fRVJST1InKVxyXG4gICAgdGhpcy5uYW1lID0gJ1ZhbGlkYXRpb25FcnJvcidcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRhYmFzZUVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xyXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZyA9ICdEYXRhYmFzZSBvcGVyYXRpb24gZmFpbGVkJykge1xyXG4gICAgc3VwZXIobWVzc2FnZSwgNTAwLCAnREFUQUJBU0VfRVJST1InKVxyXG4gICAgdGhpcy5uYW1lID0gJ0RhdGFiYXNlRXJyb3InXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTmV0d29ya0Vycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xyXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZyA9ICdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykge1xyXG4gICAgc3VwZXIobWVzc2FnZSwgNTAzLCAnTkVUV09SS19FUlJPUicpXHJcbiAgICB0aGlzLm5hbWUgPSAnTmV0d29ya0Vycm9yJ1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0aW9uRXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XHJcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nID0gJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcpIHtcclxuICAgIHN1cGVyKG1lc3NhZ2UsIDQwMSwgJ0FVVEhfRVJST1InKVxyXG4gICAgdGhpcy5uYW1lID0gJ0F1dGhlbnRpY2F0aW9uRXJyb3InXHJcbiAgfVxyXG59XHJcblxyXG4vLyBFcnJvciBsb2dnaW5nIGZ1bmN0aW9uXHJcbmV4cG9ydCBmdW5jdGlvbiBsb2dFcnJvcihlcnJvcjogRXJyb3IgfCBBcHBFcnJvciwgY29udGV4dD86IGFueSkge1xyXG4gIGNvbnN0IGVycm9ySW5mbzogRXJyb3JJbmZvID0ge1xyXG4gICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgIHN0YWNrOiBlcnJvci5zdGFjayxcclxuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgIC4uLihlcnJvciBpbnN0YW5jZW9mIEFwcEVycm9yICYmIHsgXHJcbiAgICAgIGNvZGU6IGVycm9yLmNvZGUsIFxyXG4gICAgICBzdGF0dXNDb2RlOiBlcnJvci5zdGF0dXNDb2RlIFxyXG4gICAgfSksXHJcbiAgICAuLi4odHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYge1xyXG4gICAgICB1c2VyQWdlbnQ6IHdpbmRvdy5uYXZpZ2F0b3I/LnVzZXJBZ2VudCxcclxuICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24/LmhyZWZcclxuICAgIH0pLFxyXG4gICAgLi4uY29udGV4dFxyXG4gIH1cclxuXHJcbiAgLy8gTG9nIHRvIGNvbnNvbGUgaW4gZGV2ZWxvcG1lbnRcclxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvZ2dlZDonLCBlcnJvckluZm8pXHJcbiAgfVxyXG5cclxuICAvLyBJbiBwcm9kdWN0aW9uLCBzZW5kIHRvIG1vbml0b3Jpbmcgc2VydmljZVxyXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAvLyBSZXBsYWNlIHdpdGggeW91ciBlcnJvciB0cmFja2luZyBzZXJ2aWNlXHJcbiAgICAvLyBzZW5kRXJyb3JUb01vbml0b3JpbmcoZXJyb3JJbmZvKVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVycm9ySW5mb1xyXG59XHJcblxyXG4vLyBBUEkgZXJyb3IgaGFuZGxlclxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQXBpRXJyb3IoZXJyb3I6IGFueSk6IEFwcEVycm9yIHtcclxuICAvLyBOZXR3b3JrIGVycm9yc1xyXG4gIGlmIChlcnJvci5uYW1lID09PSAnVHlwZUVycm9yJyAmJiBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdmZXRjaCcpKSB7XHJcbiAgICByZXR1cm4gbmV3IE5ldHdvcmtFcnJvcignRmFpbGVkIHRvIGNvbm5lY3QgdG8gc2VydmVyJylcclxuICB9XHJcblxyXG4gIC8vIEhUVFAgZXJyb3JzXHJcbiAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XHJcbiAgICBjb25zdCBzdGF0dXMgPSBlcnJvci5yZXNwb25zZS5zdGF0dXNcclxuICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhPy5tZXNzYWdlIHx8IGVycm9yLm1lc3NhZ2VcclxuXHJcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xyXG4gICAgICBjYXNlIDQwMDpcclxuICAgICAgICByZXR1cm4gbmV3IFZhbGlkYXRpb25FcnJvcihtZXNzYWdlKVxyXG4gICAgICBjYXNlIDQwMTpcclxuICAgICAgICByZXR1cm4gbmV3IEF1dGhlbnRpY2F0aW9uRXJyb3IobWVzc2FnZSlcclxuICAgICAgY2FzZSA0MDQ6XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBcHBFcnJvcignUmVzb3VyY2Ugbm90IGZvdW5kJywgNDA0LCAnTk9UX0ZPVU5EJylcclxuICAgICAgY2FzZSA0Mjk6XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBcHBFcnJvcignVG9vIG1hbnkgcmVxdWVzdHMnLCA0MjksICdSQVRFX0xJTUlUJylcclxuICAgICAgY2FzZSA1MDA6XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBcHBFcnJvcignSW50ZXJuYWwgc2VydmVyIGVycm9yJywgNTAwLCAnU0VSVkVSX0VSUk9SJylcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gbmV3IEFwcEVycm9yKG1lc3NhZ2UsIHN0YXR1cylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIERhdGFiYXNlIGVycm9yc1xyXG4gIGlmIChlcnJvci5uYW1lID09PSAnTW9uZ29FcnJvcicgfHwgZXJyb3IubmFtZSA9PT0gJ01vbmdvU2VydmVyRXJyb3InKSB7XHJcbiAgICByZXR1cm4gbmV3IERhdGFiYXNlRXJyb3IoYERhdGFiYXNlIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YClcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXRpb24gZXJyb3JzXHJcbiAgaWYgKGVycm9yLm5hbWUgPT09ICdWYWxpZGF0aW9uRXJyb3InKSB7XHJcbiAgICByZXR1cm4gbmV3IFZhbGlkYXRpb25FcnJvcihlcnJvci5tZXNzYWdlKVxyXG4gIH1cclxuXHJcbiAgLy8gRGVmYXVsdCBlcnJvclxyXG4gIHJldHVybiBuZXcgQXBwRXJyb3IoZXJyb3IubWVzc2FnZSB8fCAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCcpXHJcbn1cclxuXHJcbi8vIEFzeW5jIGVycm9yIHdyYXBwZXJcclxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhFcnJvckhhbmRsaW5nPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IFByb21pc2U8YW55Pj4oXHJcbiAgZm46IFQsXHJcbiAgY29udGV4dD86IHN0cmluZ1xyXG4pOiBUIHtcclxuICByZXR1cm4gKGFzeW5jICguLi5hcmdzOiBQYXJhbWV0ZXJzPFQ+KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gYXdhaXQgZm4oLi4uYXJncylcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnN0IGFwcEVycm9yID0gaGFuZGxlQXBpRXJyb3IoZXJyb3IpXHJcbiAgICAgIGxvZ0Vycm9yKGFwcEVycm9yLCB7IGNvbnRleHQsIGFyZ3MgfSlcclxuICAgICAgdGhyb3cgYXBwRXJyb3JcclxuICAgIH1cclxuICB9KSBhcyBUXHJcbn1cclxuXHJcbi8vIENsaWVudC1zaWRlIGVycm9yIGhhbmRsZXJcclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUNsaWVudEVycm9yKGVycm9yOiBFcnJvciwgY29udGV4dD86IGFueSkge1xyXG4gIGxvZ0Vycm9yKGVycm9yLCB7IGNvbnRleHQsIHNvdXJjZTogJ2NsaWVudCcgfSlcclxuICBcclxuICAvLyBTaG93IHVzZXItZnJpZW5kbHkgbWVzc2FnZVxyXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICByZXR1cm4gJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLidcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGVycm9yLm1lc3NhZ2VcclxuICB9XHJcbn1cclxuXHJcbi8vIEZvcm0gZXJyb3IgaGFuZGxlclxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmllbGRFcnJvcihlcnJvcnM6IGFueSwgZmllbGQ6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgaWYgKCFlcnJvcnMgfHwgdHlwZW9mIGVycm9ycyAhPT0gJ29iamVjdCcpIHJldHVybiB1bmRlZmluZWRcclxuICBcclxuICBjb25zdCBlcnJvciA9IGVycm9yc1tmaWVsZF1cclxuICBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykgcmV0dXJuIGVycm9yXHJcbiAgaWYgKEFycmF5LmlzQXJyYXkoZXJyb3IpICYmIGVycm9yLmxlbmd0aCA+IDApIHJldHVybiBlcnJvclswXVxyXG4gIGlmIChlcnJvcj8ubWVzc2FnZSkgcmV0dXJuIGVycm9yLm1lc3NhZ2VcclxuICBcclxuICByZXR1cm4gdW5kZWZpbmVkXHJcbn1cclxuXHJcbi8vIFJldHJ5IG1lY2hhbmlzbVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmV0cnlXaXRoQmFja29mZjxUPihcclxuICBmbjogKCkgPT4gUHJvbWlzZTxUPixcclxuICBtYXhSZXRyaWVzOiBudW1iZXIgPSAzLFxyXG4gIGJhc2VEZWxheTogbnVtYmVyID0gMTAwMFxyXG4pOiBQcm9taXNlPFQ+IHtcclxuICBsZXQgbGFzdEVycm9yOiBFcnJvclxyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8PSBtYXhSZXRyaWVzOyBpKyspIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiBhd2FpdCBmbigpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsYXN0RXJyb3IgPSBlcnJvciBhcyBFcnJvclxyXG4gICAgICBcclxuICAgICAgaWYgKGkgPT09IG1heFJldHJpZXMpIHtcclxuICAgICAgICB0aHJvdyBsYXN0RXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRXhwb25lbnRpYWwgYmFja29mZlxyXG4gICAgICBjb25zdCBkZWxheSA9IGJhc2VEZWxheSAqIE1hdGgucG93KDIsIGkpXHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSkpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0aHJvdyBsYXN0RXJyb3IhXHJcbn1cclxuXHJcbi8vIFNhZmUgYXN5bmMgZnVuY3Rpb24gd3JhcHBlclxyXG5leHBvcnQgZnVuY3Rpb24gc2FmZUFzeW5jPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IFByb21pc2U8YW55Pj4oXHJcbiAgZm46IFQsXHJcbiAgZmFsbGJhY2s/OiBhbnlcclxuKTogVCB7XHJcbiAgcmV0dXJuIChhc3luYyAoLi4uYXJnczogUGFyYW1ldGVyczxUPikgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGF3YWl0IGZuKC4uLmFyZ3MpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsb2dFcnJvcihlcnJvciBhcyBFcnJvciwgeyBmdW5jdGlvbjogZm4ubmFtZSwgYXJncyB9KVxyXG4gICAgICByZXR1cm4gZmFsbGJhY2tcclxuICAgIH1cclxuICB9KSBhcyBUXHJcbn0iXSwibmFtZXMiOlsiQXBwRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsInN0YXR1c0NvZGUiLCJjb2RlIiwiaXNPcGVyYXRpb25hbCIsImNhcHR1cmVTdGFja1RyYWNlIiwiVmFsaWRhdGlvbkVycm9yIiwiZGV0YWlscyIsIm5hbWUiLCJEYXRhYmFzZUVycm9yIiwiTmV0d29ya0Vycm9yIiwiQXV0aGVudGljYXRpb25FcnJvciIsImxvZ0Vycm9yIiwiZXJyb3IiLCJjb250ZXh0IiwiZXJyb3JJbmZvIiwic3RhY2siLCJ0aW1lc3RhbXAiLCJEYXRlIiwidXNlckFnZW50Iiwid2luZG93IiwibmF2aWdhdG9yIiwidXJsIiwibG9jYXRpb24iLCJocmVmIiwicHJvY2VzcyIsImNvbnNvbGUiLCJoYW5kbGVBcGlFcnJvciIsImluY2x1ZGVzIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJkYXRhIiwid2l0aEVycm9ySGFuZGxpbmciLCJmbiIsImFyZ3MiLCJhcHBFcnJvciIsImhhbmRsZUNsaWVudEVycm9yIiwic291cmNlIiwiZ2V0RmllbGRFcnJvciIsImVycm9ycyIsImZpZWxkIiwidW5kZWZpbmVkIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwicmV0cnlXaXRoQmFja29mZiIsIm1heFJldHJpZXMiLCJiYXNlRGVsYXkiLCJsYXN0RXJyb3IiLCJpIiwiZGVsYXkiLCJNYXRoIiwicG93IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0Iiwic2FmZUFzeW5jIiwiZmFsbGJhY2siLCJmdW5jdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/error-handler.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/models.ts":
/*!***************************!*\
  !*** ./src/lib/models.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultInquiry: () => (/* binding */ DefaultInquiry),\n/* harmony export */   DefaultProduct: () => (/* binding */ DefaultProduct),\n/* harmony export */   InquiryValidation: () => (/* binding */ InquiryValidation),\n/* harmony export */   ProductValidation: () => (/* binding */ ProductValidation),\n/* harmony export */   isInquiry: () => (/* binding */ isInquiry),\n/* harmony export */   isProduct: () => (/* binding */ isProduct),\n/* harmony export */   isUser: () => (/* binding */ isUser),\n/* harmony export */   sanitizeInquiry: () => (/* binding */ sanitizeInquiry),\n/* harmony export */   sanitizeString: () => (/* binding */ sanitizeString),\n/* harmony export */   validateInquiry: () => (/* binding */ validateInquiry),\n/* harmony export */   validateProduct: () => (/* binding */ validateProduct)\n/* harmony export */ });\n// Type guards\nfunction isInquiry(obj) {\n    return obj && typeof obj.name === \"string\" && typeof obj.email === \"string\" && typeof obj.country === \"string\" && typeof obj.message === \"string\";\n}\nfunction isProduct(obj) {\n    return obj && typeof obj.name === \"string\" && typeof obj.category === \"string\" && typeof obj.description === \"string\" && Array.isArray(obj.images);\n}\nfunction isUser(obj) {\n    return obj && typeof obj.email === \"string\" && typeof obj.name === \"string\" && typeof obj.role === \"string\";\n}\n// Enhanced validation functions\nfunction validateInquiry(data) {\n    const errors = [];\n    // Name validation\n    if (!data.name || typeof data.name !== \"string\") {\n        errors.push(\"Name is required\");\n    } else {\n        const name = data.name.trim();\n        if (name.length < InquiryValidation.name.minLength || name.length > InquiryValidation.name.maxLength) {\n            errors.push(`Name must be between ${InquiryValidation.name.minLength} and ${InquiryValidation.name.maxLength} characters`);\n        }\n        // Check for suspicious patterns\n        if (/[<>\"'&\\{\\}]/.test(name)) {\n            errors.push(\"Name contains invalid characters\");\n        }\n    }\n    // Email validation\n    if (!data.email || typeof data.email !== \"string\") {\n        errors.push(\"Email is required\");\n    } else {\n        const email = data.email.trim().toLowerCase();\n        if (!InquiryValidation.email.pattern.test(email)) {\n            errors.push(\"Invalid email format\");\n        }\n        if (email.length > 254) {\n            errors.push(\"Email address is too long\");\n        }\n    }\n    // Country validation\n    if (!data.country || typeof data.country !== \"string\") {\n        errors.push(\"Country is required\");\n    } else {\n        const country = data.country.trim();\n        if (country.length > InquiryValidation.country.maxLength) {\n            errors.push(`Country must be less than ${InquiryValidation.country.maxLength} characters`);\n        }\n        if (/[<>\"'&\\{\\}]/.test(country)) {\n            errors.push(\"Country contains invalid characters\");\n        }\n    }\n    // Message validation\n    if (!data.message || typeof data.message !== \"string\") {\n        errors.push(\"Message is required\");\n    } else {\n        const message = data.message.trim();\n        if (message.length < InquiryValidation.message.minLength || message.length > InquiryValidation.message.maxLength) {\n            errors.push(`Message must be between ${InquiryValidation.message.minLength} and ${InquiryValidation.message.maxLength} characters`);\n        }\n    }\n    // Optional fields validation\n    if (data.phone && typeof data.phone === \"string\") {\n        const phone = data.phone.trim();\n        if (phone.length > InquiryValidation.phone.maxLength) {\n            errors.push(`Phone must be less than ${InquiryValidation.phone.maxLength} characters`);\n        }\n        // Basic phone format validation\n        if (!/^[+\\d\\s\\-\\(\\)]+$/.test(phone)) {\n            errors.push(\"Phone number contains invalid characters\");\n        }\n    }\n    if (data.company && typeof data.company === \"string\") {\n        const company = data.company.trim();\n        if (company.length > InquiryValidation.company.maxLength) {\n            errors.push(`Company must be less than ${InquiryValidation.company.maxLength} characters`);\n        }\n        if (/[<>\"'&\\{\\}]/.test(company)) {\n            errors.push(\"Company name contains invalid characters\");\n        }\n    }\n    // Additional security checks\n    const suspiciousPatterns = [\n        /<script[^>]*>.*?<\\/script>/gi,\n        /javascript:/gi,\n        /on\\w+\\s*=/gi,\n        /data:(?:text\\/html|application\\/javascript)/gi\n    ];\n    const textFields = [\n        data.name,\n        data.message,\n        data.company,\n        data.productInterest\n    ];\n    for (const field of textFields){\n        if (typeof field === \"string\") {\n            for (const pattern of suspiciousPatterns){\n                if (pattern.test(field)) {\n                    errors.push(\"Invalid content detected\");\n                    break;\n                }\n            }\n        }\n    }\n    return {\n        isValid: errors.length === 0,\n        errors\n    };\n}\nfunction validateProduct(data) {\n    const errors = [];\n    // Name validation\n    if (!data.name || typeof data.name !== \"string\") {\n        errors.push(\"Name is required\");\n    } else {\n        const name = data.name.trim();\n        if (name.length < ProductValidation.name.minLength || name.length > ProductValidation.name.maxLength) {\n            errors.push(`Name must be between ${ProductValidation.name.minLength} and ${ProductValidation.name.maxLength} characters`);\n        }\n        if (/[<>\"'&\\{\\}]/.test(name)) {\n            errors.push(\"Name contains invalid characters\");\n        }\n    }\n    // Category validation\n    if (!data.category || typeof data.category !== \"string\") {\n        errors.push(\"Category is required\");\n    } else {\n        const category = data.category.trim();\n        if (category.length > ProductValidation.category.maxLength) {\n            errors.push(`Category must be less than ${ProductValidation.category.maxLength} characters`);\n        }\n        if (/[<>\"'&\\{\\}]/.test(category)) {\n            errors.push(\"Category contains invalid characters\");\n        }\n    }\n    // Description validation\n    if (!data.description || typeof data.description !== \"string\") {\n        errors.push(\"Description is required\");\n    } else {\n        const description = data.description.trim();\n        if (description.length < ProductValidation.description.minLength || description.length > ProductValidation.description.maxLength) {\n            errors.push(`Description must be between ${ProductValidation.description.minLength} and ${ProductValidation.description.maxLength} characters`);\n        }\n    }\n    // Images validation\n    if (!Array.isArray(data.images)) {\n        errors.push(\"Images must be an array\");\n    } else if (data.images.length < ProductValidation.images.minItems) {\n        errors.push(`At least ${ProductValidation.images.minItems} image is required`);\n    } else {\n        // Validate image URLs\n        for (const image of data.images){\n            if (typeof image !== \"string\" || !image.trim()) {\n                errors.push(\"All images must be valid URLs\");\n                break;\n            }\n        }\n    }\n    // Specifications validation\n    if (!data.specifications || typeof data.specifications !== \"object\") {\n        errors.push(\"Specifications are required\");\n    }\n    // Features validation\n    if (!Array.isArray(data.features)) {\n        errors.push(\"Features must be an array\");\n    } else if (data.features.length < ProductValidation.features.minItems) {\n        errors.push(`At least ${ProductValidation.features.minItems} feature is required`);\n    } else {\n        // Validate feature strings\n        for (const feature of data.features){\n            if (typeof feature !== \"string\" || !feature.trim()) {\n                errors.push(\"All features must be valid strings\");\n                break;\n            }\n        }\n    }\n    // Optional fields validation\n    if (data.slug && typeof data.slug === \"string\") {\n        if (!/^[a-z0-9-]+$/.test(data.slug)) {\n            errors.push(\"Slug must contain only lowercase letters, numbers, and hyphens\");\n        }\n    }\n    return {\n        isValid: errors.length === 0,\n        errors\n    };\n}\n// Enhanced sanitization functions\nfunction sanitizeString(str) {\n    if (typeof str !== \"string\") return \"\";\n    return str.trim().replace(/[<>\"'&]/g, (match)=>{\n        const entities = {\n            \"<\": \"&lt;\",\n            \">\": \"&gt;\",\n            '\"': \"&quot;\",\n            \"'\": \"&#x27;\",\n            \"&\": \"&amp;\"\n        };\n        return entities[match] || match;\n    })// Remove potentially dangerous patterns\n    .replace(/javascript:/gi, \"\").replace(/on\\w+\\s*=/gi, \"\").replace(/<script[^>]*>.*?<\\/script>/gi, \"\").replace(/data:(?:text\\/html|application\\/javascript)/gi, \"\")// Limit length to prevent abuse\n    .substring(0, 2000);\n}\nfunction sanitizeInquiry(data) {\n    const sanitized = {\n        name: data.name ? sanitizeString(data.name) : \"\",\n        email: data.email ? sanitizeString(data.email.toLowerCase().trim()) : \"\",\n        phone: data.phone ? sanitizeString(data.phone) : undefined,\n        country: data.country ? sanitizeString(data.country) : \"\",\n        company: data.company ? sanitizeString(data.company) : undefined,\n        productInterest: data.productInterest ? sanitizeString(data.productInterest) : undefined,\n        productId: data.productId ? sanitizeString(data.productId) : undefined,\n        productName: data.productName ? sanitizeString(data.productName) : undefined,\n        quantity: data.quantity ? sanitizeString(data.quantity) : undefined,\n        message: data.message ? sanitizeString(data.message) : \"\"\n    };\n    // Remove empty optional fields\n    Object.keys(sanitized).forEach((key)=>{\n        if (sanitized[key] === undefined || sanitized[key] === \"\") {\n            if (key !== \"name\" && key !== \"email\" && key !== \"country\" && key !== \"message\") {\n                delete sanitized[key];\n            }\n        }\n    });\n    return sanitized;\n}\n// Validation schemas (basic)\nconst InquiryValidation = {\n    name: {\n        required: true,\n        minLength: 2,\n        maxLength: 100\n    },\n    email: {\n        required: true,\n        pattern: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n    },\n    phone: {\n        required: false,\n        maxLength: 20\n    },\n    country: {\n        required: true,\n        maxLength: 50\n    },\n    company: {\n        required: false,\n        maxLength: 100\n    },\n    productInterest: {\n        required: false,\n        maxLength: 50\n    },\n    productId: {\n        required: false,\n        maxLength: 50\n    },\n    productName: {\n        required: false,\n        maxLength: 200\n    },\n    quantity: {\n        required: false,\n        maxLength: 50\n    },\n    message: {\n        required: true,\n        minLength: 10,\n        maxLength: 2000\n    }\n};\nconst ProductValidation = {\n    name: {\n        required: true,\n        minLength: 3,\n        maxLength: 200\n    },\n    category: {\n        required: true,\n        maxLength: 50\n    },\n    description: {\n        required: true,\n        minLength: 10,\n        maxLength: 500\n    },\n    images: {\n        required: true,\n        minItems: 1\n    },\n    specifications: {\n        required: true\n    },\n    features: {\n        required: true,\n        minItems: 1\n    }\n};\n// Default values\nconst DefaultInquiry = {\n    status: \"new\",\n    priority: \"medium\",\n    source: \"website\",\n    notes: [],\n    createdAt: new Date(),\n    updatedAt: new Date()\n};\nconst DefaultProduct = {\n    featured: false,\n    active: true,\n    sortOrder: 0,\n    createdAt: new Date(),\n    updatedAt: new Date()\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQVc7SUFBSztBQUM1RCxFQUFDO0FBRU0sTUFBTVksb0JBQW9CO0lBQy9CaEMsTUFBTTtRQUFFdUQsVUFBVTtRQUFNcEMsV0FBVztRQUFHQyxXQUFXO0lBQUk7SUFDckRmLFVBQVU7UUFBRWtELFVBQVU7UUFBTW5DLFdBQVc7SUFBRztJQUMxQ2QsYUFBYTtRQUFFaUQsVUFBVTtRQUFNcEMsV0FBVztRQUFJQyxXQUFXO0lBQUk7SUFDN0RYLFFBQVE7UUFBRThDLFVBQVU7UUFBTXRCLFVBQVU7SUFBRTtJQUN0Q0UsZ0JBQWdCO1FBQUVvQixVQUFVO0lBQUs7SUFDakNuQixVQUFVO1FBQUVtQixVQUFVO1FBQU10QixVQUFVO0lBQUU7QUFDMUMsRUFBQztBQUVELGlCQUFpQjtBQUNWLE1BQU11QixpQkFBbUM7SUFDOUNDLFFBQVE7SUFDUkMsVUFBVTtJQUNWQyxRQUFRO0lBQ1JDLE9BQU8sRUFBRTtJQUNUQyxXQUFXLElBQUlDO0lBQ2ZDLFdBQVcsSUFBSUQ7QUFDakIsRUFBQztBQUVNLE1BQU1FLGlCQUFtQztJQUM5Q0MsVUFBVTtJQUNWQyxRQUFRO0lBQ1JDLFdBQVc7SUFDWE4sV0FBVyxJQUFJQztJQUNmQyxXQUFXLElBQUlEO0FBQ2pCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWxsLWxpLWNhc2VzLy4vc3JjL2xpYi9tb2RlbHMudHM/ZWEwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gJ21vbmdvZGInXG5cbi8vIEJhc2UgaW50ZXJmYWNlIGZvciBhbGwgZG9jdW1lbnRzXG5pbnRlcmZhY2UgQmFzZURvY3VtZW50IHtcbiAgX2lkPzogT2JqZWN0SWRcbiAgY3JlYXRlZEF0OiBEYXRlXG4gIHVwZGF0ZWRBdDogRGF0ZVxufVxuXG4vLyBJbnF1aXJ5L0NvbnRhY3QgZm9ybSBzdWJtaXNzaW9uXG5leHBvcnQgaW50ZXJmYWNlIElucXVpcnkgZXh0ZW5kcyBCYXNlRG9jdW1lbnQge1xuICBuYW1lOiBzdHJpbmdcbiAgZW1haWw6IHN0cmluZ1xuICBwaG9uZT86IHN0cmluZ1xuICBjb3VudHJ5OiBzdHJpbmdcbiAgY29tcGFueT86IHN0cmluZ1xuICBwcm9kdWN0SW50ZXJlc3Q/OiBzdHJpbmdcbiAgcHJvZHVjdElkPzogc3RyaW5nXG4gIHByb2R1Y3ROYW1lPzogc3RyaW5nXG4gIHF1YW50aXR5Pzogc3RyaW5nXG4gIG1lc3NhZ2U6IHN0cmluZ1xuICBzdGF0dXM6ICduZXcnIHwgJ2NvbnRhY3RlZCcgfCAncXVvdGVkJyB8ICdjbG9zZWQnXG4gIHByaW9yaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnXG4gIGFzc2lnbmVkVG8/OiBzdHJpbmdcbiAgbm90ZXM/OiBzdHJpbmdbXVxuICBzb3VyY2U6ICd3ZWJzaXRlJyB8ICdlbWFpbCcgfCAncGhvbmUnIHwgJ3RyYWRlX3Nob3cnIHwgJ3JlZmVycmFsJ1xuICBpcEFkZHJlc3M/OiBzdHJpbmdcbiAgdXNlckFnZW50Pzogc3RyaW5nXG59XG5cbi8vIFByb2R1Y3QgaW5mb3JtYXRpb25cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdCBleHRlbmRzIEJhc2VEb2N1bWVudCB7XG4gIG5hbWU6IHN0cmluZ1xuICBzbHVnOiBzdHJpbmdcbiAgY2F0ZWdvcnk6IHN0cmluZ1xuICBzdWJjYXRlZ29yeT86IHN0cmluZ1xuICBkZXNjcmlwdGlvbjogc3RyaW5nXG4gIGxvbmdEZXNjcmlwdGlvbj86IHN0cmluZ1xuICBpbWFnZXM6IHN0cmluZ1tdXG4gIHNwZWNpZmljYXRpb25zOiB7XG4gICAgZGltZW5zaW9ucz86IHN0cmluZ1xuICAgIHdlaWdodD86IHN0cmluZ1xuICAgIG1hdGVyaWFsPzogc3RyaW5nXG4gICAgd2F0ZXJwcm9vZj86IHN0cmluZ1xuICAgIFtrZXk6IHN0cmluZ106IHN0cmluZyB8IHVuZGVmaW5lZFxuICB9XG4gIGZlYXR1cmVzOiBzdHJpbmdbXVxuICBhcHBsaWNhdGlvbnM6IHN0cmluZ1tdXG4gIGNlcnRpZmljYXRpb25zOiBzdHJpbmdbXVxuICBjb2xvcnM/OiBBcnJheTx7XG4gICAgbmFtZTogc3RyaW5nXG4gICAgY29kZTogc3RyaW5nXG4gIH0+XG4gIGFjY2Vzc29yaWVzPzogc3RyaW5nW11cbiAgcHJpY2U/OiB7XG4gICAgY3VycmVuY3k6IHN0cmluZ1xuICAgIGFtb3VudDogbnVtYmVyXG4gICAgdW5pdDogc3RyaW5nXG4gIH1cbiAgZGltZW5zaW9ucz86IHtcbiAgICBleHRlcm5hbDoge1xuICAgICAgbGVuZ3RoOiBudW1iZXJcbiAgICAgIHdpZHRoOiBudW1iZXJcbiAgICAgIGhlaWdodDogbnVtYmVyXG4gICAgICB1bml0OiBzdHJpbmdcbiAgICB9XG4gICAgaW50ZXJuYWw6IHtcbiAgICAgIGxlbmd0aDogbnVtYmVyXG4gICAgICB3aWR0aDogbnVtYmVyXG4gICAgICBoZWlnaHQ6IG51bWJlclxuICAgICAgdW5pdDogc3RyaW5nXG4gICAgfVxuICB9XG4gIHdlaWdodD86IHtcbiAgICB2YWx1ZTogbnVtYmVyXG4gICAgdW5pdDogc3RyaW5nXG4gIH1cbiAgdm9sdW1lPzoge1xuICAgIHZhbHVlOiBudW1iZXJcbiAgICB1bml0OiBzdHJpbmdcbiAgfVxuICBwcm90ZWN0aW9uUmF0aW5nPzogc3RyaW5nXG4gIHRlbXBlcmF0dXJlUmFuZ2U/OiB7XG4gICAgbWluOiBudW1iZXJcbiAgICBtYXg6IG51bWJlclxuICAgIHVuaXQ6IHN0cmluZ1xuICB9XG4gIGZlYXR1cmVkOiBib29sZWFuXG4gIGFjdGl2ZTogYm9vbGVhblxuICBzZW9UaXRsZT86IHN0cmluZ1xuICBzZW9EZXNjcmlwdGlvbj86IHN0cmluZ1xuICBzZW9LZXl3b3Jkcz86IHN0cmluZ1tdXG4gIHNvcnRPcmRlcjogbnVtYmVyXG4gIC8vIEZyb250ZW5kIGNvbXBhdGliaWxpdHkgZmllbGRzXG4gIGlkPzogc3RyaW5nIC8vIEZvciBmcm9udGVuZCBjb21wYXRpYmlsaXR5XG4gIGltYWdlPzogc3RyaW5nIC8vIEZvciBmcm9udGVuZCBjb21wYXRpYmlsaXR5XG59XG5cbi8vIFByb2R1Y3QgY2F0ZWdvcnlcbmV4cG9ydCBpbnRlcmZhY2UgQ2F0ZWdvcnkgZXh0ZW5kcyBCYXNlRG9jdW1lbnQge1xuICBuYW1lOiBzdHJpbmdcbiAgc2x1Zzogc3RyaW5nXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nXG4gIGltYWdlPzogc3RyaW5nXG4gIHBhcmVudElkPzogT2JqZWN0SWRcbiAgYWN0aXZlOiBib29sZWFuXG4gIHNvcnRPcmRlcjogbnVtYmVyXG4gIHNlb1RpdGxlPzogc3RyaW5nXG4gIHNlb0Rlc2NyaXB0aW9uPzogc3RyaW5nXG59XG5cbi8vIFVzZXIvQWRtaW5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlciBleHRlbmRzIEJhc2VEb2N1bWVudCB7XG4gIGVtYWlsOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHJvbGU6ICdhZG1pbicgfCAnc2FsZXMnIHwgJ21hbmFnZXInXG4gIHBhc3N3b3JkOiBzdHJpbmcgLy8gaGFzaGVkXG4gIGFjdGl2ZTogYm9vbGVhblxuICBsYXN0TG9naW4/OiBEYXRlXG4gIHBlcm1pc3Npb25zOiBzdHJpbmdbXVxufVxuXG4vLyBTaXRlIHNldHRpbmdzXG5leHBvcnQgaW50ZXJmYWNlIFNpdGVTZXR0aW5ncyBleHRlbmRzIEJhc2VEb2N1bWVudCB7XG4gIGtleTogc3RyaW5nXG4gIHZhbHVlOiBhbnlcbiAgdHlwZTogJ3N0cmluZycgfCAnbnVtYmVyJyB8ICdib29sZWFuJyB8ICdvYmplY3QnIHwgJ2FycmF5J1xuICBkZXNjcmlwdGlvbj86IHN0cmluZ1xuICBjYXRlZ29yeTogJ2dlbmVyYWwnIHwgJ2VtYWlsJyB8ICdzZW8nIHwgJ3NvY2lhbCcgfCAnYW5hbHl0aWNzJ1xufVxuXG4vLyBBbmFseXRpY3MvU3RhdGlzdGljc1xuZXhwb3J0IGludGVyZmFjZSBBbmFseXRpY3MgZXh0ZW5kcyBCYXNlRG9jdW1lbnQge1xuICB0eXBlOiAncGFnZV92aWV3JyB8ICdpbnF1aXJ5JyB8ICdwcm9kdWN0X3ZpZXcnIHwgJ2Rvd25sb2FkJ1xuICBwYWdlPzogc3RyaW5nXG4gIHByb2R1Y3RJZD86IE9iamVjdElkXG4gIGlucXVpcnlJZD86IE9iamVjdElkXG4gIGNvdW50cnk/OiBzdHJpbmdcbiAgaXBBZGRyZXNzPzogc3RyaW5nXG4gIHVzZXJBZ2VudD86IHN0cmluZ1xuICByZWZlcnJlcj86IHN0cmluZ1xuICBzZXNzaW9uSWQ/OiBzdHJpbmdcbn1cblxuLy8gTmV3c2xldHRlciBzdWJzY3JpcHRpb25cbmV4cG9ydCBpbnRlcmZhY2UgTmV3c2xldHRlciBleHRlbmRzIEJhc2VEb2N1bWVudCB7XG4gIGVtYWlsOiBzdHJpbmdcbiAgbmFtZT86IHN0cmluZ1xuICBjb3VudHJ5Pzogc3RyaW5nXG4gIGFjdGl2ZTogYm9vbGVhblxuICBzb3VyY2U6ICd3ZWJzaXRlJyB8ICd0cmFkZV9zaG93JyB8ICdtYW51YWwnXG4gIHRhZ3M/OiBzdHJpbmdbXVxufVxuXG4vLyBGaWxlL01lZGlhXG5leHBvcnQgaW50ZXJmYWNlIE1lZGlhIGV4dGVuZHMgQmFzZURvY3VtZW50IHtcbiAgZmlsZW5hbWU6IHN0cmluZ1xuICBvcmlnaW5hbE5hbWU6IHN0cmluZ1xuICBtaW1lVHlwZTogc3RyaW5nXG4gIHNpemU6IG51bWJlclxuICBwYXRoOiBzdHJpbmdcbiAgdXJsOiBzdHJpbmdcbiAgYWx0Pzogc3RyaW5nXG4gIGNhcHRpb24/OiBzdHJpbmdcbiAgdGFncz86IHN0cmluZ1tdXG4gIHVwbG9hZGVkQnk6IE9iamVjdElkXG59XG5cbi8vIFF1b3RlL1JGUVxuZXhwb3J0IGludGVyZmFjZSBRdW90ZSBleHRlbmRzIEJhc2VEb2N1bWVudCB7XG4gIGlucXVpcnlJZDogT2JqZWN0SWRcbiAgcXVvdGVOdW1iZXI6IHN0cmluZ1xuICBjdXN0b21lck5hbWU6IHN0cmluZ1xuICBjdXN0b21lckVtYWlsOiBzdHJpbmdcbiAgcHJvZHVjdHM6IEFycmF5PHtcbiAgICBwcm9kdWN0SWQ6IE9iamVjdElkXG4gICAgcXVhbnRpdHk6IG51bWJlclxuICAgIHVuaXRQcmljZTogbnVtYmVyXG4gICAgY3VzdG9taXphdGlvbnM/OiBzdHJpbmdbXVxuICAgIG5vdGVzPzogc3RyaW5nXG4gIH0+XG4gIHRvdGFsQW1vdW50OiBudW1iZXJcbiAgY3VycmVuY3k6IHN0cmluZ1xuICB2YWxpZFVudGlsOiBEYXRlXG4gIHN0YXR1czogJ2RyYWZ0JyB8ICdzZW50JyB8ICdhY2NlcHRlZCcgfCAncmVqZWN0ZWQnIHwgJ2V4cGlyZWQnXG4gIHRlcm1zPzogc3RyaW5nXG4gIG5vdGVzPzogc3RyaW5nXG4gIGNyZWF0ZWRCeTogT2JqZWN0SWRcbiAgc2VudEF0PzogRGF0ZVxuICByZXNwb25kZWRBdD86IERhdGVcbn1cblxuLy8gVHlwZSBndWFyZHNcbmV4cG9ydCBmdW5jdGlvbiBpc0lucXVpcnkob2JqOiBhbnkpOiBvYmogaXMgSW5xdWlyeSB7XG4gIHJldHVybiBvYmogJiYgXG4gICAgdHlwZW9mIG9iai5uYW1lID09PSAnc3RyaW5nJyAmJlxuICAgIHR5cGVvZiBvYmouZW1haWwgPT09ICdzdHJpbmcnICYmXG4gICAgdHlwZW9mIG9iai5jb3VudHJ5ID09PSAnc3RyaW5nJyAmJlxuICAgIHR5cGVvZiBvYmoubWVzc2FnZSA9PT0gJ3N0cmluZydcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvZHVjdChvYmo6IGFueSk6IG9iaiBpcyBQcm9kdWN0IHtcbiAgcmV0dXJuIG9iaiAmJlxuICAgIHR5cGVvZiBvYmoubmFtZSA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2Ygb2JqLmNhdGVnb3J5ID09PSAnc3RyaW5nJyAmJlxuICAgIHR5cGVvZiBvYmouZGVzY3JpcHRpb24gPT09ICdzdHJpbmcnICYmXG4gICAgQXJyYXkuaXNBcnJheShvYmouaW1hZ2VzKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVc2VyKG9iajogYW55KTogb2JqIGlzIFVzZXIge1xuICByZXR1cm4gb2JqICYmXG4gICAgdHlwZW9mIG9iai5lbWFpbCA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2Ygb2JqLm5hbWUgPT09ICdzdHJpbmcnICYmXG4gICAgdHlwZW9mIG9iai5yb2xlID09PSAnc3RyaW5nJ1xufVxuXG4vLyBFbmhhbmNlZCB2YWxpZGF0aW9uIGZ1bmN0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5xdWlyeShkYXRhOiBhbnkpOiB7IGlzVmFsaWQ6IGJvb2xlYW47IGVycm9yczogc3RyaW5nW10gfSB7XG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXVxuICBcbiAgLy8gTmFtZSB2YWxpZGF0aW9uXG4gIGlmICghZGF0YS5uYW1lIHx8IHR5cGVvZiBkYXRhLm5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgZXJyb3JzLnB1c2goJ05hbWUgaXMgcmVxdWlyZWQnKVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IG5hbWUgPSBkYXRhLm5hbWUudHJpbSgpXG4gICAgaWYgKG5hbWUubGVuZ3RoIDwgSW5xdWlyeVZhbGlkYXRpb24ubmFtZS5taW5MZW5ndGggfHwgbmFtZS5sZW5ndGggPiBJbnF1aXJ5VmFsaWRhdGlvbi5uYW1lLm1heExlbmd0aCkge1xuICAgICAgZXJyb3JzLnB1c2goYE5hbWUgbXVzdCBiZSBiZXR3ZWVuICR7SW5xdWlyeVZhbGlkYXRpb24ubmFtZS5taW5MZW5ndGh9IGFuZCAke0lucXVpcnlWYWxpZGF0aW9uLm5hbWUubWF4TGVuZ3RofSBjaGFyYWN0ZXJzYClcbiAgICB9XG4gICAgLy8gQ2hlY2sgZm9yIHN1c3BpY2lvdXMgcGF0dGVybnNcbiAgICBpZiAoL1s8PlwiJyZcXHtcXH1dLy50ZXN0KG5hbWUpKSB7XG4gICAgICBlcnJvcnMucHVzaCgnTmFtZSBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMnKVxuICAgIH1cbiAgfVxuICBcbiAgLy8gRW1haWwgdmFsaWRhdGlvblxuICBpZiAoIWRhdGEuZW1haWwgfHwgdHlwZW9mIGRhdGEuZW1haWwgIT09ICdzdHJpbmcnKSB7XG4gICAgZXJyb3JzLnB1c2goJ0VtYWlsIGlzIHJlcXVpcmVkJylcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBlbWFpbCA9IGRhdGEuZW1haWwudHJpbSgpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoIUlucXVpcnlWYWxpZGF0aW9uLmVtYWlsLnBhdHRlcm4udGVzdChlbWFpbCkpIHtcbiAgICAgIGVycm9ycy5wdXNoKCdJbnZhbGlkIGVtYWlsIGZvcm1hdCcpXG4gICAgfVxuICAgIGlmIChlbWFpbC5sZW5ndGggPiAyNTQpIHsgLy8gUkZDIDUzMjEgbGltaXRcbiAgICAgIGVycm9ycy5wdXNoKCdFbWFpbCBhZGRyZXNzIGlzIHRvbyBsb25nJylcbiAgICB9XG4gIH1cbiAgXG4gIC8vIENvdW50cnkgdmFsaWRhdGlvblxuICBpZiAoIWRhdGEuY291bnRyeSB8fCB0eXBlb2YgZGF0YS5jb3VudHJ5ICE9PSAnc3RyaW5nJykge1xuICAgIGVycm9ycy5wdXNoKCdDb3VudHJ5IGlzIHJlcXVpcmVkJylcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjb3VudHJ5ID0gZGF0YS5jb3VudHJ5LnRyaW0oKVxuICAgIGlmIChjb3VudHJ5Lmxlbmd0aCA+IElucXVpcnlWYWxpZGF0aW9uLmNvdW50cnkubWF4TGVuZ3RoKSB7XG4gICAgICBlcnJvcnMucHVzaChgQ291bnRyeSBtdXN0IGJlIGxlc3MgdGhhbiAke0lucXVpcnlWYWxpZGF0aW9uLmNvdW50cnkubWF4TGVuZ3RofSBjaGFyYWN0ZXJzYClcbiAgICB9XG4gICAgaWYgKC9bPD5cIicmXFx7XFx9XS8udGVzdChjb3VudHJ5KSkge1xuICAgICAgZXJyb3JzLnB1c2goJ0NvdW50cnkgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzJylcbiAgICB9XG4gIH1cbiAgXG4gIC8vIE1lc3NhZ2UgdmFsaWRhdGlvblxuICBpZiAoIWRhdGEubWVzc2FnZSB8fCB0eXBlb2YgZGF0YS5tZXNzYWdlICE9PSAnc3RyaW5nJykge1xuICAgIGVycm9ycy5wdXNoKCdNZXNzYWdlIGlzIHJlcXVpcmVkJylcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZGF0YS5tZXNzYWdlLnRyaW0oKVxuICAgIGlmIChtZXNzYWdlLmxlbmd0aCA8IElucXVpcnlWYWxpZGF0aW9uLm1lc3NhZ2UubWluTGVuZ3RoIHx8IG1lc3NhZ2UubGVuZ3RoID4gSW5xdWlyeVZhbGlkYXRpb24ubWVzc2FnZS5tYXhMZW5ndGgpIHtcbiAgICAgIGVycm9ycy5wdXNoKGBNZXNzYWdlIG11c3QgYmUgYmV0d2VlbiAke0lucXVpcnlWYWxpZGF0aW9uLm1lc3NhZ2UubWluTGVuZ3RofSBhbmQgJHtJbnF1aXJ5VmFsaWRhdGlvbi5tZXNzYWdlLm1heExlbmd0aH0gY2hhcmFjdGVyc2ApXG4gICAgfVxuICB9XG4gIFxuICAvLyBPcHRpb25hbCBmaWVsZHMgdmFsaWRhdGlvblxuICBpZiAoZGF0YS5waG9uZSAmJiB0eXBlb2YgZGF0YS5waG9uZSA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBwaG9uZSA9IGRhdGEucGhvbmUudHJpbSgpXG4gICAgaWYgKHBob25lLmxlbmd0aCA+IElucXVpcnlWYWxpZGF0aW9uLnBob25lLm1heExlbmd0aCkge1xuICAgICAgZXJyb3JzLnB1c2goYFBob25lIG11c3QgYmUgbGVzcyB0aGFuICR7SW5xdWlyeVZhbGlkYXRpb24ucGhvbmUubWF4TGVuZ3RofSBjaGFyYWN0ZXJzYClcbiAgICB9XG4gICAgLy8gQmFzaWMgcGhvbmUgZm9ybWF0IHZhbGlkYXRpb25cbiAgICBpZiAoIS9eWytcXGRcXHNcXC1cXChcXCldKyQvLnRlc3QocGhvbmUpKSB7XG4gICAgICBlcnJvcnMucHVzaCgnUGhvbmUgbnVtYmVyIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycycpXG4gICAgfVxuICB9XG4gIFxuICBpZiAoZGF0YS5jb21wYW55ICYmIHR5cGVvZiBkYXRhLmNvbXBhbnkgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uc3QgY29tcGFueSA9IGRhdGEuY29tcGFueS50cmltKClcbiAgICBpZiAoY29tcGFueS5sZW5ndGggPiBJbnF1aXJ5VmFsaWRhdGlvbi5jb21wYW55Lm1heExlbmd0aCkge1xuICAgICAgZXJyb3JzLnB1c2goYENvbXBhbnkgbXVzdCBiZSBsZXNzIHRoYW4gJHtJbnF1aXJ5VmFsaWRhdGlvbi5jb21wYW55Lm1heExlbmd0aH0gY2hhcmFjdGVyc2ApXG4gICAgfVxuICAgIGlmICgvWzw+XCInJlxce1xcfV0vLnRlc3QoY29tcGFueSkpIHtcbiAgICAgIGVycm9ycy5wdXNoKCdDb21wYW55IG5hbWUgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzJylcbiAgICB9XG4gIH1cbiAgXG4gIC8vIEFkZGl0aW9uYWwgc2VjdXJpdHkgY2hlY2tzXG4gIGNvbnN0IHN1c3BpY2lvdXNQYXR0ZXJucyA9IFtcbiAgICAvPHNjcmlwdFtePl0qPi4qPzxcXC9zY3JpcHQ+L2dpLFxuICAgIC9qYXZhc2NyaXB0Oi9naSxcbiAgICAvb25cXHcrXFxzKj0vZ2ksXG4gICAgL2RhdGE6KD86dGV4dFxcL2h0bWx8YXBwbGljYXRpb25cXC9qYXZhc2NyaXB0KS9naVxuICBdXG4gIFxuICBjb25zdCB0ZXh0RmllbGRzID0gW2RhdGEubmFtZSwgZGF0YS5tZXNzYWdlLCBkYXRhLmNvbXBhbnksIGRhdGEucHJvZHVjdEludGVyZXN0XVxuICBmb3IgKGNvbnN0IGZpZWxkIG9mIHRleHRGaWVsZHMpIHtcbiAgICBpZiAodHlwZW9mIGZpZWxkID09PSAnc3RyaW5nJykge1xuICAgICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIHN1c3BpY2lvdXNQYXR0ZXJucykge1xuICAgICAgICBpZiAocGF0dGVybi50ZXN0KGZpZWxkKSkge1xuICAgICAgICAgIGVycm9ycy5wdXNoKCdJbnZhbGlkIGNvbnRlbnQgZGV0ZWN0ZWQnKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiB7IGlzVmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsIGVycm9ycyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVByb2R1Y3QoZGF0YTogYW55KTogeyBpc1ZhbGlkOiBib29sZWFuOyBlcnJvcnM6IHN0cmluZ1tdIH0ge1xuICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW11cbiAgXG4gIC8vIE5hbWUgdmFsaWRhdGlvblxuICBpZiAoIWRhdGEubmFtZSB8fCB0eXBlb2YgZGF0YS5uYW1lICE9PSAnc3RyaW5nJykge1xuICAgIGVycm9ycy5wdXNoKCdOYW1lIGlzIHJlcXVpcmVkJylcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBuYW1lID0gZGF0YS5uYW1lLnRyaW0oKVxuICAgIGlmIChuYW1lLmxlbmd0aCA8IFByb2R1Y3RWYWxpZGF0aW9uLm5hbWUubWluTGVuZ3RoIHx8IG5hbWUubGVuZ3RoID4gUHJvZHVjdFZhbGlkYXRpb24ubmFtZS5tYXhMZW5ndGgpIHtcbiAgICAgIGVycm9ycy5wdXNoKGBOYW1lIG11c3QgYmUgYmV0d2VlbiAke1Byb2R1Y3RWYWxpZGF0aW9uLm5hbWUubWluTGVuZ3RofSBhbmQgJHtQcm9kdWN0VmFsaWRhdGlvbi5uYW1lLm1heExlbmd0aH0gY2hhcmFjdGVyc2ApXG4gICAgfVxuICAgIGlmICgvWzw+XCInJlxce1xcfV0vLnRlc3QobmFtZSkpIHtcbiAgICAgIGVycm9ycy5wdXNoKCdOYW1lIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycycpXG4gICAgfVxuICB9XG4gIFxuICAvLyBDYXRlZ29yeSB2YWxpZGF0aW9uXG4gIGlmICghZGF0YS5jYXRlZ29yeSB8fCB0eXBlb2YgZGF0YS5jYXRlZ29yeSAhPT0gJ3N0cmluZycpIHtcbiAgICBlcnJvcnMucHVzaCgnQ2F0ZWdvcnkgaXMgcmVxdWlyZWQnKVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gZGF0YS5jYXRlZ29yeS50cmltKClcbiAgICBpZiAoY2F0ZWdvcnkubGVuZ3RoID4gUHJvZHVjdFZhbGlkYXRpb24uY2F0ZWdvcnkubWF4TGVuZ3RoKSB7XG4gICAgICBlcnJvcnMucHVzaChgQ2F0ZWdvcnkgbXVzdCBiZSBsZXNzIHRoYW4gJHtQcm9kdWN0VmFsaWRhdGlvbi5jYXRlZ29yeS5tYXhMZW5ndGh9IGNoYXJhY3RlcnNgKVxuICAgIH1cbiAgICBpZiAoL1s8PlwiJyZcXHtcXH1dLy50ZXN0KGNhdGVnb3J5KSkge1xuICAgICAgZXJyb3JzLnB1c2goJ0NhdGVnb3J5IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycycpXG4gICAgfVxuICB9XG4gIFxuICAvLyBEZXNjcmlwdGlvbiB2YWxpZGF0aW9uXG4gIGlmICghZGF0YS5kZXNjcmlwdGlvbiB8fCB0eXBlb2YgZGF0YS5kZXNjcmlwdGlvbiAhPT0gJ3N0cmluZycpIHtcbiAgICBlcnJvcnMucHVzaCgnRGVzY3JpcHRpb24gaXMgcmVxdWlyZWQnKVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbi50cmltKClcbiAgICBpZiAoZGVzY3JpcHRpb24ubGVuZ3RoIDwgUHJvZHVjdFZhbGlkYXRpb24uZGVzY3JpcHRpb24ubWluTGVuZ3RoIHx8IGRlc2NyaXB0aW9uLmxlbmd0aCA+IFByb2R1Y3RWYWxpZGF0aW9uLmRlc2NyaXB0aW9uLm1heExlbmd0aCkge1xuICAgICAgZXJyb3JzLnB1c2goYERlc2NyaXB0aW9uIG11c3QgYmUgYmV0d2VlbiAke1Byb2R1Y3RWYWxpZGF0aW9uLmRlc2NyaXB0aW9uLm1pbkxlbmd0aH0gYW5kICR7UHJvZHVjdFZhbGlkYXRpb24uZGVzY3JpcHRpb24ubWF4TGVuZ3RofSBjaGFyYWN0ZXJzYClcbiAgICB9XG4gIH1cbiAgXG4gIC8vIEltYWdlcyB2YWxpZGF0aW9uXG4gIGlmICghQXJyYXkuaXNBcnJheShkYXRhLmltYWdlcykpIHtcbiAgICBlcnJvcnMucHVzaCgnSW1hZ2VzIG11c3QgYmUgYW4gYXJyYXknKVxuICB9IGVsc2UgaWYgKGRhdGEuaW1hZ2VzLmxlbmd0aCA8IFByb2R1Y3RWYWxpZGF0aW9uLmltYWdlcy5taW5JdGVtcykge1xuICAgIGVycm9ycy5wdXNoKGBBdCBsZWFzdCAke1Byb2R1Y3RWYWxpZGF0aW9uLmltYWdlcy5taW5JdGVtc30gaW1hZ2UgaXMgcmVxdWlyZWRgKVxuICB9IGVsc2Uge1xuICAgIC8vIFZhbGlkYXRlIGltYWdlIFVSTHNcbiAgICBmb3IgKGNvbnN0IGltYWdlIG9mIGRhdGEuaW1hZ2VzKSB7XG4gICAgICBpZiAodHlwZW9mIGltYWdlICE9PSAnc3RyaW5nJyB8fCAhaW1hZ2UudHJpbSgpKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKCdBbGwgaW1hZ2VzIG11c3QgYmUgdmFsaWQgVVJMcycpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICAvLyBTcGVjaWZpY2F0aW9ucyB2YWxpZGF0aW9uXG4gIGlmICghZGF0YS5zcGVjaWZpY2F0aW9ucyB8fCB0eXBlb2YgZGF0YS5zcGVjaWZpY2F0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICBlcnJvcnMucHVzaCgnU3BlY2lmaWNhdGlvbnMgYXJlIHJlcXVpcmVkJylcbiAgfVxuICBcbiAgLy8gRmVhdHVyZXMgdmFsaWRhdGlvblxuICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YS5mZWF0dXJlcykpIHtcbiAgICBlcnJvcnMucHVzaCgnRmVhdHVyZXMgbXVzdCBiZSBhbiBhcnJheScpXG4gIH0gZWxzZSBpZiAoZGF0YS5mZWF0dXJlcy5sZW5ndGggPCBQcm9kdWN0VmFsaWRhdGlvbi5mZWF0dXJlcy5taW5JdGVtcykge1xuICAgIGVycm9ycy5wdXNoKGBBdCBsZWFzdCAke1Byb2R1Y3RWYWxpZGF0aW9uLmZlYXR1cmVzLm1pbkl0ZW1zfSBmZWF0dXJlIGlzIHJlcXVpcmVkYClcbiAgfSBlbHNlIHtcbiAgICAvLyBWYWxpZGF0ZSBmZWF0dXJlIHN0cmluZ3NcbiAgICBmb3IgKGNvbnN0IGZlYXR1cmUgb2YgZGF0YS5mZWF0dXJlcykge1xuICAgICAgaWYgKHR5cGVvZiBmZWF0dXJlICE9PSAnc3RyaW5nJyB8fCAhZmVhdHVyZS50cmltKCkpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goJ0FsbCBmZWF0dXJlcyBtdXN0IGJlIHZhbGlkIHN0cmluZ3MnKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgLy8gT3B0aW9uYWwgZmllbGRzIHZhbGlkYXRpb25cbiAgaWYgKGRhdGEuc2x1ZyAmJiB0eXBlb2YgZGF0YS5zbHVnID09PSAnc3RyaW5nJykge1xuICAgIGlmICghL15bYS16MC05LV0rJC8udGVzdChkYXRhLnNsdWcpKSB7XG4gICAgICBlcnJvcnMucHVzaCgnU2x1ZyBtdXN0IGNvbnRhaW4gb25seSBsb3dlcmNhc2UgbGV0dGVycywgbnVtYmVycywgYW5kIGh5cGhlbnMnKVxuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIHsgaXNWYWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCwgZXJyb3JzIH1cbn1cblxuLy8gRW5oYW5jZWQgc2FuaXRpemF0aW9uIGZ1bmN0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplU3RyaW5nKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSByZXR1cm4gJydcbiAgXG4gIHJldHVybiBzdHJcbiAgICAudHJpbSgpXG4gICAgLnJlcGxhY2UoL1s8PlwiJyZdL2csIChtYXRjaCkgPT4ge1xuICAgICAgY29uc3QgZW50aXRpZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gICAgICAgICc8JzogJyZsdDsnLFxuICAgICAgICAnPic6ICcmZ3Q7JyxcbiAgICAgICAgJ1wiJzogJyZxdW90OycsXG4gICAgICAgIFwiJ1wiOiAnJiN4Mjc7JyxcbiAgICAgICAgJyYnOiAnJmFtcDsnXG4gICAgICB9XG4gICAgICByZXR1cm4gZW50aXRpZXNbbWF0Y2hdIHx8IG1hdGNoXG4gICAgfSlcbiAgICAvLyBSZW1vdmUgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIHBhdHRlcm5zXG4gICAgLnJlcGxhY2UoL2phdmFzY3JpcHQ6L2dpLCAnJylcbiAgICAucmVwbGFjZSgvb25cXHcrXFxzKj0vZ2ksICcnKVxuICAgIC5yZXBsYWNlKC88c2NyaXB0W14+XSo+Lio/PFxcL3NjcmlwdD4vZ2ksICcnKVxuICAgIC5yZXBsYWNlKC9kYXRhOig/OnRleHRcXC9odG1sfGFwcGxpY2F0aW9uXFwvamF2YXNjcmlwdCkvZ2ksICcnKVxuICAgIC8vIExpbWl0IGxlbmd0aCB0byBwcmV2ZW50IGFidXNlXG4gICAgLnN1YnN0cmluZygwLCAyMDAwKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVJbnF1aXJ5KGRhdGE6IGFueSk6IFBhcnRpYWw8SW5xdWlyeT4ge1xuICBjb25zdCBzYW5pdGl6ZWQgPSB7XG4gICAgbmFtZTogZGF0YS5uYW1lID8gc2FuaXRpemVTdHJpbmcoZGF0YS5uYW1lKSA6ICcnLFxuICAgIGVtYWlsOiBkYXRhLmVtYWlsID8gc2FuaXRpemVTdHJpbmcoZGF0YS5lbWFpbC50b0xvd2VyQ2FzZSgpLnRyaW0oKSkgOiAnJyxcbiAgICBwaG9uZTogZGF0YS5waG9uZSA/IHNhbml0aXplU3RyaW5nKGRhdGEucGhvbmUpIDogdW5kZWZpbmVkLFxuICAgIGNvdW50cnk6IGRhdGEuY291bnRyeSA/IHNhbml0aXplU3RyaW5nKGRhdGEuY291bnRyeSkgOiAnJyxcbiAgICBjb21wYW55OiBkYXRhLmNvbXBhbnkgPyBzYW5pdGl6ZVN0cmluZyhkYXRhLmNvbXBhbnkpIDogdW5kZWZpbmVkLFxuICAgIHByb2R1Y3RJbnRlcmVzdDogZGF0YS5wcm9kdWN0SW50ZXJlc3QgPyBzYW5pdGl6ZVN0cmluZyhkYXRhLnByb2R1Y3RJbnRlcmVzdCkgOiB1bmRlZmluZWQsXG4gICAgcHJvZHVjdElkOiBkYXRhLnByb2R1Y3RJZCA/IHNhbml0aXplU3RyaW5nKGRhdGEucHJvZHVjdElkKSA6IHVuZGVmaW5lZCxcbiAgICBwcm9kdWN0TmFtZTogZGF0YS5wcm9kdWN0TmFtZSA/IHNhbml0aXplU3RyaW5nKGRhdGEucHJvZHVjdE5hbWUpIDogdW5kZWZpbmVkLFxuICAgIHF1YW50aXR5OiBkYXRhLnF1YW50aXR5ID8gc2FuaXRpemVTdHJpbmcoZGF0YS5xdWFudGl0eSkgOiB1bmRlZmluZWQsXG4gICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlID8gc2FuaXRpemVTdHJpbmcoZGF0YS5tZXNzYWdlKSA6ICcnXG4gIH1cbiAgXG4gIC8vIFJlbW92ZSBlbXB0eSBvcHRpb25hbCBmaWVsZHNcbiAgT2JqZWN0LmtleXMoc2FuaXRpemVkKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgaWYgKHNhbml0aXplZFtrZXkgYXMga2V5b2YgdHlwZW9mIHNhbml0aXplZF0gPT09IHVuZGVmaW5lZCB8fCBcbiAgICAgICAgc2FuaXRpemVkW2tleSBhcyBrZXlvZiB0eXBlb2Ygc2FuaXRpemVkXSA9PT0gJycpIHtcbiAgICAgIGlmIChrZXkgIT09ICduYW1lJyAmJiBrZXkgIT09ICdlbWFpbCcgJiYga2V5ICE9PSAnY291bnRyeScgJiYga2V5ICE9PSAnbWVzc2FnZScpIHtcbiAgICAgICAgZGVsZXRlIHNhbml0aXplZFtrZXkgYXMga2V5b2YgdHlwZW9mIHNhbml0aXplZF1cbiAgICAgIH1cbiAgICB9XG4gIH0pXG4gIFxuICByZXR1cm4gc2FuaXRpemVkXG59XG5cbi8vIFZhbGlkYXRpb24gc2NoZW1hcyAoYmFzaWMpXG5leHBvcnQgY29uc3QgSW5xdWlyeVZhbGlkYXRpb24gPSB7XG4gIG5hbWU6IHsgcmVxdWlyZWQ6IHRydWUsIG1pbkxlbmd0aDogMiwgbWF4TGVuZ3RoOiAxMDAgfSxcbiAgZW1haWw6IHsgcmVxdWlyZWQ6IHRydWUsIHBhdHRlcm46IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvIH0sXG4gIHBob25lOiB7IHJlcXVpcmVkOiBmYWxzZSwgbWF4TGVuZ3RoOiAyMCB9LFxuICBjb3VudHJ5OiB7IHJlcXVpcmVkOiB0cnVlLCBtYXhMZW5ndGg6IDUwIH0sXG4gIGNvbXBhbnk6IHsgcmVxdWlyZWQ6IGZhbHNlLCBtYXhMZW5ndGg6IDEwMCB9LFxuICBwcm9kdWN0SW50ZXJlc3Q6IHsgcmVxdWlyZWQ6IGZhbHNlLCBtYXhMZW5ndGg6IDUwIH0sXG4gIHByb2R1Y3RJZDogeyByZXF1aXJlZDogZmFsc2UsIG1heExlbmd0aDogNTAgfSxcbiAgcHJvZHVjdE5hbWU6IHsgcmVxdWlyZWQ6IGZhbHNlLCBtYXhMZW5ndGg6IDIwMCB9LFxuICBxdWFudGl0eTogeyByZXF1aXJlZDogZmFsc2UsIG1heExlbmd0aDogNTAgfSxcbiAgbWVzc2FnZTogeyByZXF1aXJlZDogdHJ1ZSwgbWluTGVuZ3RoOiAxMCwgbWF4TGVuZ3RoOiAyMDAwIH1cbn1cblxuZXhwb3J0IGNvbnN0IFByb2R1Y3RWYWxpZGF0aW9uID0ge1xuICBuYW1lOiB7IHJlcXVpcmVkOiB0cnVlLCBtaW5MZW5ndGg6IDMsIG1heExlbmd0aDogMjAwIH0sXG4gIGNhdGVnb3J5OiB7IHJlcXVpcmVkOiB0cnVlLCBtYXhMZW5ndGg6IDUwIH0sXG4gIGRlc2NyaXB0aW9uOiB7IHJlcXVpcmVkOiB0cnVlLCBtaW5MZW5ndGg6IDEwLCBtYXhMZW5ndGg6IDUwMCB9LFxuICBpbWFnZXM6IHsgcmVxdWlyZWQ6IHRydWUsIG1pbkl0ZW1zOiAxIH0sXG4gIHNwZWNpZmljYXRpb25zOiB7IHJlcXVpcmVkOiB0cnVlIH0sXG4gIGZlYXR1cmVzOiB7IHJlcXVpcmVkOiB0cnVlLCBtaW5JdGVtczogMSB9XG59XG5cbi8vIERlZmF1bHQgdmFsdWVzXG5leHBvcnQgY29uc3QgRGVmYXVsdElucXVpcnk6IFBhcnRpYWw8SW5xdWlyeT4gPSB7XG4gIHN0YXR1czogJ25ldycsXG4gIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgc291cmNlOiAnd2Vic2l0ZScsXG4gIG5vdGVzOiBbXSxcbiAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbn1cblxuZXhwb3J0IGNvbnN0IERlZmF1bHRQcm9kdWN0OiBQYXJ0aWFsPFByb2R1Y3Q+ID0ge1xuICBmZWF0dXJlZDogZmFsc2UsXG4gIGFjdGl2ZTogdHJ1ZSxcbiAgc29ydE9yZGVyOiAwLFxuICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxufSJdLCJuYW1lcyI6WyJpc0lucXVpcnkiLCJvYmoiLCJuYW1lIiwiZW1haWwiLCJjb3VudHJ5IiwibWVzc2FnZSIsImlzUHJvZHVjdCIsImNhdGVnb3J5IiwiZGVzY3JpcHRpb24iLCJBcnJheSIsImlzQXJyYXkiLCJpbWFnZXMiLCJpc1VzZXIiLCJyb2xlIiwidmFsaWRhdGVJbnF1aXJ5IiwiZGF0YSIsImVycm9ycyIsInB1c2giLCJ0cmltIiwibGVuZ3RoIiwiSW5xdWlyeVZhbGlkYXRpb24iLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJ0ZXN0IiwidG9Mb3dlckNhc2UiLCJwYXR0ZXJuIiwicGhvbmUiLCJjb21wYW55Iiwic3VzcGljaW91c1BhdHRlcm5zIiwidGV4dEZpZWxkcyIsInByb2R1Y3RJbnRlcmVzdCIsImZpZWxkIiwiaXNWYWxpZCIsInZhbGlkYXRlUHJvZHVjdCIsIlByb2R1Y3RWYWxpZGF0aW9uIiwibWluSXRlbXMiLCJpbWFnZSIsInNwZWNpZmljYXRpb25zIiwiZmVhdHVyZXMiLCJmZWF0dXJlIiwic2x1ZyIsInNhbml0aXplU3RyaW5nIiwic3RyIiwicmVwbGFjZSIsIm1hdGNoIiwiZW50aXRpZXMiLCJzdWJzdHJpbmciLCJzYW5pdGl6ZUlucXVpcnkiLCJzYW5pdGl6ZWQiLCJ1bmRlZmluZWQiLCJwcm9kdWN0SWQiLCJwcm9kdWN0TmFtZSIsInF1YW50aXR5IiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJyZXF1aXJlZCIsIkRlZmF1bHRJbnF1aXJ5Iiwic3RhdHVzIiwicHJpb3JpdHkiLCJzb3VyY2UiLCJub3RlcyIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ1cGRhdGVkQXQiLCJEZWZhdWx0UHJvZHVjdCIsImZlYXR1cmVkIiwiYWN0aXZlIiwic29ydE9yZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/models.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COLLECTIONS: () => (/* binding */ COLLECTIONS),\n/* harmony export */   \"default\": () => (/* binding */ getClientPromise),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase),\n/* harmony export */   initializeDatabase: () => (/* binding */ initializeDatabase),\n/* harmony export */   testConnection: () => (/* binding */ testConnection)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n// 【重点】MongoDB数据库连接配置 - 管理数据库连接和操作\n// 这个文件是整个应用的数据库核心，负责建立和维护MongoDB连接\n // MongoDB官方驱动\n// 【重点】环境变量检查函数 - 延迟检查，避免模块加载时报错\nfunction checkEnvironment() {\n    if (false) {}\n    return \"mongodb+srv://766282480qnm_db_user:13195622840Qbb@weili-website.x7cdvcd.mongodb.net/wellicases?retryWrites=true&w=majority&appName=WEILI-website&ssl=true&authSource=admin\";\n}\n// 【重点】连接选项配置 - 优化数据库连接性能和稳定性，解决SSL问题\nconst options = {\n    maxPoolSize: 10,\n    serverSelectionTimeoutMS: 5000,\n    socketTimeoutMS: 45000,\n    family: 4,\n    // SSL/TLS配置 - 解决SSL连接问题\n    tls: true,\n    tlsAllowInvalidCertificates: false,\n    tlsAllowInvalidHostnames: false,\n    // 连接重试配置\n    retryWrites: true,\n    retryReads: true,\n    // 认证配置\n    authSource: \"admin\"\n};\n// 【重点】客户端连接管理 - 根据环境采用不同的连接策略\nlet client;\nlet clientPromise;\n// 改为函数形式，延迟初始化\nfunction initializeClient() {\n    if (clientPromise) {\n        return clientPromise;\n    }\n    const uri = checkEnvironment() // 在需要时才检查环境变量\n    ;\n    if (true) {\n        // 【重点】开发环境连接策略 - 使用全局变量避免热重载时重复连接\n        // 在开发模式下，使用全局变量保存连接，避免HMR（热模块替换）导致的重复连接\n        let globalWithMongo = global;\n        if (!globalWithMongo._mongoClientPromise) {\n            client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, options) // 创建新的MongoDB客户端\n            ;\n            globalWithMongo._mongoClientPromise = client.connect() // 建立连接并保存到全局变量\n            ;\n        }\n        clientPromise = globalWithMongo._mongoClientPromise // 使用已存在的连接\n        ;\n    } else {}\n    return clientPromise;\n}\n// 【重点】导出客户端连接Promise - 在模块间共享数据库连接\n// 通过在独立模块中导出，可以在不同函数间共享同一个客户端连接\nfunction getClientPromise() {\n    return initializeClient();\n}\n// 【重点】数据库辅助函数 - 获取数据库实例\nasync function getDatabase() {\n    try {\n        const client = await initializeClient() // 使用新的初始化函数\n        ;\n        return client.db(\"wellicases\") // 返回指定数据库实例（修正数据库名称）\n        ;\n    } catch (error) {\n        // 【重点】连接错误处理 - 记录错误并抛出友好的错误信息\n        console.error(\"Failed to connect to database:\", error);\n        throw new Error(\"Database connection failed\") // 抛出数据库连接失败错误\n        ;\n    }\n}\n// 【重点】集合名称常量 - 统一管理数据库集合名称\n// 使用常量避免硬编码，便于维护和重构\nconst COLLECTIONS = {\n    INQUIRIES: \"inquiries\",\n    PRODUCTS: \"products\",\n    USERS: \"users\",\n    SETTINGS: \"settings\" // 系统设置集合\n};\n// 【重点】增强的数据库连接测试 - 带重试逻辑的连接检查\nasync function testConnection(retries = 3) {\n    for(let i = 0; i < retries; i++){\n        try {\n            const client = await initializeClient() // 使用新的初始化函数\n            ;\n            await client.db(\"admin\").command({\n                ping: 1\n            }) // 发送ping命令测试连接\n            ;\n            console.log(\"✅ MongoDB connection successful\") // 连接成功\n            ;\n            return true;\n        } catch (error) {\n            console.error(`❌ MongoDB connection attempt ${i + 1} failed:`, error.message) // 简化错误信息\n            ;\n            if (i === retries - 1) {\n                // 【重点】所有重试都失败 - 记录最终失败状态\n                console.error(\"❌ All MongoDB connection attempts failed\");\n                console.warn(\"⚠️ This might be due to SSL/TLS compatibility issues on Windows\");\n                console.warn(\"⚠️ The application will continue without database connection\");\n                return false;\n            }\n            // 【重点】等待后重试 - 递增延迟避免频繁重试\n            // 【重点】等待后重试 - 递增延迟避免频繁重试\n            await new Promise((resolve)=>setTimeout(resolve, 1000 * (i + 1)));\n        }\n    }\n    return false;\n}\n// 【重点】数据库初始化 - 创建索引优化查询性能\nasync function initializeDatabase() {\n    try {\n        const db = await getDatabase() // 获取数据库实例\n        ;\n        // 【重点】咨询集合索引 - 优化常用查询字段的性能\n        const inquiriesIndexes = [\n            {\n                key: {\n                    email: 1\n                }\n            },\n            {\n                key: {\n                    createdAt: -1\n                }\n            },\n            {\n                key: {\n                    country: 1\n                }\n            },\n            {\n                key: {\n                    productInterest: 1\n                }\n            },\n            {\n                key: {\n                    status: 1\n                }\n            } // 状态索引：用于筛选处理状态\n        ];\n        const productsIndexes = [\n            {\n                key: {\n                    name: \"text\",\n                    description: \"text\"\n                }\n            },\n            {\n                key: {\n                    category: 1\n                }\n            },\n            {\n                key: {\n                    featured: 1\n                }\n            },\n            {\n                key: {\n                    active: 1\n                }\n            },\n            {\n                key: {\n                    slug: 1\n                },\n                unique: true\n            } // 唯一slug索引：确保URL标识符唯一性\n        ];\n        // 【重点】并行创建索引 - 同时为多个集合创建索引提高效率\n        await Promise.all([\n            db.collection(COLLECTIONS.INQUIRIES).createIndexes(inquiriesIndexes).catch((err)=>console.warn(\"Failed to create inquiries indexes:\", err)),\n            db.collection(COLLECTIONS.PRODUCTS).createIndexes(productsIndexes).catch((err)=>console.warn(\"Failed to create products indexes:\", err)) // 产品集合索引创建失败处理\n        ]);\n        console.log(\"✅ Database indexes created successfully\") // 索引创建成功\n        ;\n    } catch (error) {\n        // 【重点】数据库初始化错误处理 - 避免应用崩溃\n        console.error(\"❌ Failed to initialize database:\", error);\n        // 不抛出错误以防止应用崩溃 - 应用可以在没有索引的情况下运行\n        console.warn(\"Database initialization failed, continuing without indexes\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUUsT0FBT1osT0FBTztRQUNkLDBCQUEwQjtRQUMxQkMsUUFBUUQsS0FBSyxDQUFDLG9DQUFvQ0E7UUFDbEQsaUNBQWlDO1FBQ2pDQyxRQUFRYSxJQUFJLENBQUM7SUFDZjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VsbC1saS1jYXNlcy8uL3NyYy9saWIvbW9uZ29kYi50cz81M2MyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIOOAkOmHjeeCueOAkU1vbmdvRELmlbDmja7lupPov57mjqXphY3nva4gLSDnrqHnkIbmlbDmja7lupPov57mjqXlkozmk43kvZxcbi8vIOi/meS4quaWh+S7tuaYr+aVtOS4quW6lOeUqOeahOaVsOaNruW6k+aguOW/g++8jOi0n+i0o+W7uueri+WSjOe7tOaKpE1vbmdvRELov57mjqVcblxuaW1wb3J0IHsgTW9uZ29DbGllbnQsIERiLCBNb25nb0NsaWVudE9wdGlvbnMgfSBmcm9tICdtb25nb2RiJyAvLyBNb25nb0RC5a6Y5pa56amx5YqoXG5cbi8vIOOAkOmHjeeCueOAkeeOr+Wig+WPmOmHj+ajgOafpeWHveaVsCAtIOW7tui/n+ajgOafpe+8jOmBv+WFjeaooeWdl+WKoOi9veaXtuaKpemUmVxuZnVuY3Rpb24gY2hlY2tFbnZpcm9ubWVudCgpOiBzdHJpbmcge1xuICBpZiAoIXByb2Nlc3MuZW52Lk1PTkdPREJfVVJJKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgYWRkIHlvdXIgTW9uZ29EQiBVUkkgdG8gLmVudi5sb2NhbCcpIC8vIOe8uuWwkeaVsOaNruW6k+i/nuaOpeWtl+espuS4slxuICB9XG4gIHJldHVybiBwcm9jZXNzLmVudi5NT05HT0RCX1VSSVxufVxuLy8g44CQ6YeN54K544CR6L+e5o6l6YCJ6aG56YWN572uIC0g5LyY5YyW5pWw5o2u5bqT6L+e5o6l5oCn6IO95ZKM56iz5a6a5oCn77yM6Kej5YazU1NM6Zeu6aKYXG5jb25zdCBvcHRpb25zOiBNb25nb0NsaWVudE9wdGlvbnMgPSB7XG4gIG1heFBvb2xTaXplOiAxMCwgLy8g5pyA5aSn6L+e5o6l5rGg5aSn5bCP77yaMTDkuKrlubblj5Hov57mjqVcbiAgc2VydmVyU2VsZWN0aW9uVGltZW91dE1TOiA1MDAwLCAvLyDmnI3liqHlmajpgInmi6notoXml7bvvJo156eSXG4gIHNvY2tldFRpbWVvdXRNUzogNDUwMDAsIC8vIFNvY2tldOi2heaXtu+8mjQ156eSXG4gIGZhbWlseTogNCwgLy8g5L2/55SoSVB2NO+8jOi3s+i/h0lQdjblsJ3or5XvvIjmj5Dpq5jov57mjqXpgJ/luqbvvIlcbiAgXG4gIC8vIFNTTC9UTFPphY3nva4gLSDop6PlhrNTU0zov57mjqXpl67pophcbiAgdGxzOiB0cnVlLCAvLyDlkK/nlKhUTFNcbiAgdGxzQWxsb3dJbnZhbGlkQ2VydGlmaWNhdGVzOiBmYWxzZSwgLy8g5Lil5qC86K+B5Lmm6aqM6K+BXG4gIHRsc0FsbG93SW52YWxpZEhvc3RuYW1lczogZmFsc2UsIC8vIOS4peagvOS4u+acuuWQjemqjOivgVxuICBcbiAgLy8g6L+e5o6l6YeN6K+V6YWN572uXG4gIHJldHJ5V3JpdGVzOiB0cnVlLCAvLyDlkK/nlKjlhpnmk43kvZzph43or5VcbiAgcmV0cnlSZWFkczogdHJ1ZSwgLy8g5ZCv55So6K+75pON5L2c6YeN6K+VXG4gIFxuICAvLyDorqTor4HphY3nva5cbiAgYXV0aFNvdXJjZTogJ2FkbWluJywgLy8g6K6k6K+B5pWw5o2u5bqTXG59XG5cbi8vIOOAkOmHjeeCueOAkeWuouaIt+err+i/nuaOpeeuoeeQhiAtIOagueaNrueOr+Wig+mHh+eUqOS4jeWQjOeahOi/nuaOpeetlueVpVxubGV0IGNsaWVudDogTW9uZ29DbGllbnRcbmxldCBjbGllbnRQcm9taXNlOiBQcm9taXNlPE1vbmdvQ2xpZW50PlxuXG4vLyDmlLnkuLrlh73mlbDlvaLlvI/vvIzlu7bov5/liJ3lp4vljJZcbmZ1bmN0aW9uIGluaXRpYWxpemVDbGllbnQoKTogUHJvbWlzZTxNb25nb0NsaWVudD4ge1xuICBpZiAoY2xpZW50UHJvbWlzZSkge1xuICAgIHJldHVybiBjbGllbnRQcm9taXNlXG4gIH1cbiAgXG4gIGNvbnN0IHVyaSA9IGNoZWNrRW52aXJvbm1lbnQoKSAvLyDlnKjpnIDopoHml7bmiY3mo4Dmn6Xnjq/looPlj5jph49cbiAgXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgIC8vIOOAkOmHjeeCueOAkeW8gOWPkeeOr+Wig+i/nuaOpeetlueVpSAtIOS9v+eUqOWFqOWxgOWPmOmHj+mBv+WFjeeDremHjei9veaXtumHjeWkjei/nuaOpVxuICAgIC8vIOWcqOW8gOWPkeaooeW8j+S4i++8jOS9v+eUqOWFqOWxgOWPmOmHj+S/neWtmOi/nuaOpe+8jOmBv+WFjUhNUu+8iOeDreaooeWdl+abv+aNou+8ieWvvOiHtOeahOmHjeWkjei/nuaOpVxuICAgIGxldCBnbG9iYWxXaXRoTW9uZ28gPSBnbG9iYWwgYXMgdHlwZW9mIGdsb2JhbFRoaXMgJiB7XG4gICAgICBfbW9uZ29DbGllbnRQcm9taXNlPzogUHJvbWlzZTxNb25nb0NsaWVudD5cbiAgICB9XG5cbiAgICBpZiAoIWdsb2JhbFdpdGhNb25nby5fbW9uZ29DbGllbnRQcm9taXNlKSB7XG4gICAgICBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJpLCBvcHRpb25zKSAvLyDliJvlu7rmlrDnmoRNb25nb0RC5a6i5oi356uvXG4gICAgICBnbG9iYWxXaXRoTW9uZ28uX21vbmdvQ2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KCkgLy8g5bu656uL6L+e5o6l5bm25L+d5a2Y5Yiw5YWo5bGA5Y+Y6YePXG4gICAgfVxuICAgIGNsaWVudFByb21pc2UgPSBnbG9iYWxXaXRoTW9uZ28uX21vbmdvQ2xpZW50UHJvbWlzZSAvLyDkvb/nlKjlt7LlrZjlnKjnmoTov57mjqVcbiAgfSBlbHNlIHtcbiAgICAvLyDjgJDph43ngrnjgJHnlJ/kuqfnjq/looPov57mjqXnrZbnlaUgLSDnm7TmjqXliJvlu7rov57mjqXvvIzkuI3kvb/nlKjlhajlsYDlj5jph49cbiAgICBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJpLCBvcHRpb25zKVxuICAgIGNsaWVudFByb21pc2UgPSBjbGllbnQuY29ubmVjdCgpXG4gIH1cbiAgXG4gIHJldHVybiBjbGllbnRQcm9taXNlXG59XG5cbi8vIOOAkOmHjeeCueOAkeWvvOWHuuWuouaIt+err+i/nuaOpVByb21pc2UgLSDlnKjmqKHlnZfpl7TlhbHkuqvmlbDmja7lupPov57mjqVcbi8vIOmAmui/h+WcqOeLrOeri+aooeWdl+S4reWvvOWHuu+8jOWPr+S7peWcqOS4jeWQjOWHveaVsOmXtOWFseS6q+WQjOS4gOS4quWuouaIt+err+i/nuaOpVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Q2xpZW50UHJvbWlzZSgpOiBQcm9taXNlPE1vbmdvQ2xpZW50PiB7XG4gIHJldHVybiBpbml0aWFsaXplQ2xpZW50KClcbn1cblxuLy8g44CQ6YeN54K544CR5pWw5o2u5bqT6L6F5Yqp5Ye95pWwIC0g6I635Y+W5pWw5o2u5bqT5a6e5L6LXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RGF0YWJhc2UoKTogUHJvbWlzZTxEYj4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGluaXRpYWxpemVDbGllbnQoKSAvLyDkvb/nlKjmlrDnmoTliJ3lp4vljJblh73mlbBcbiAgICByZXR1cm4gY2xpZW50LmRiKCd3ZWxsaWNhc2VzJykgLy8g6L+U5Zue5oyH5a6a5pWw5o2u5bqT5a6e5L6L77yI5L+u5q2j5pWw5o2u5bqT5ZCN56ew77yJXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8g44CQ6YeN54K544CR6L+e5o6l6ZSZ6K+v5aSE55CGIC0g6K6w5b2V6ZSZ6K+v5bm25oqb5Ye65Y+L5aW955qE6ZSZ6K+v5L+h5oGvXG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNvbm5lY3QgdG8gZGF0YWJhc2U6JywgZXJyb3IpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpIC8vIOaKm+WHuuaVsOaNruW6k+i/nuaOpeWksei0pemUmeivr1xuICB9XG59XG5cbi8vIOOAkOmHjeeCueOAkembhuWQiOWQjeensOW4uOmHjyAtIOe7n+S4gOeuoeeQhuaVsOaNruW6k+mbhuWQiOWQjeensFxuLy8g5L2/55So5bi46YeP6YG/5YWN56Gs57yW56CB77yM5L6/5LqO57u05oqk5ZKM6YeN5p6EXG5leHBvcnQgY29uc3QgQ09MTEVDVElPTlMgPSB7XG4gIElOUVVJUklFUzogJ2lucXVpcmllcycsIC8vIOWSqOivouiusOW9lembhuWQiFxuICBQUk9EVUNUUzogJ3Byb2R1Y3RzJywgLy8g5Lqn5ZOB5L+h5oGv6ZuG5ZCIXG4gIFVTRVJTOiAndXNlcnMnLCAvLyDnlKjmiLfkv6Hmga/pm4blkIhcbiAgU0VUVElOR1M6ICdzZXR0aW5ncycgLy8g57O757uf6K6+572u6ZuG5ZCIXG59IGFzIGNvbnN0XG5cbi8vIOOAkOmHjeeCueOAkeWinuW8uueahOaVsOaNruW6k+i/nuaOpea1i+ivlSAtIOW4pumHjeivlemAu+i+keeahOi/nuaOpeajgOafpVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRlc3RDb25uZWN0aW9uKHJldHJpZXMgPSAzKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmV0cmllczsgaSsrKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGluaXRpYWxpemVDbGllbnQoKSAvLyDkvb/nlKjmlrDnmoTliJ3lp4vljJblh73mlbBcbiAgICAgIGF3YWl0IGNsaWVudC5kYignYWRtaW4nKS5jb21tYW5kKHsgcGluZzogMSB9KSAvLyDlj5HpgIFwaW5n5ZG95Luk5rWL6K+V6L+e5o6lXG4gICAgICBjb25zb2xlLmxvZygn4pyFIE1vbmdvREIgY29ubmVjdGlvbiBzdWNjZXNzZnVsJykgLy8g6L+e5o6l5oiQ5YqfXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgTW9uZ29EQiBjb25uZWN0aW9uIGF0dGVtcHQgJHtpICsgMX0gZmFpbGVkOmAsIChlcnJvciBhcyBFcnJvcikubWVzc2FnZSkgLy8g566A5YyW6ZSZ6K+v5L+h5oGvXG4gICAgICBpZiAoaSA9PT0gcmV0cmllcyAtIDEpIHtcbiAgICAgICAgLy8g44CQ6YeN54K544CR5omA5pyJ6YeN6K+V6YO95aSx6LSlIC0g6K6w5b2V5pyA57uI5aSx6LSl54q25oCBXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBbGwgTW9uZ29EQiBjb25uZWN0aW9uIGF0dGVtcHRzIGZhaWxlZCcpXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFRoaXMgbWlnaHQgYmUgZHVlIHRvIFNTTC9UTFMgY29tcGF0aWJpbGl0eSBpc3N1ZXMgb24gV2luZG93cycpXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFRoZSBhcHBsaWNhdGlvbiB3aWxsIGNvbnRpbnVlIHdpdGhvdXQgZGF0YWJhc2UgY29ubmVjdGlvbicpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgLy8g44CQ6YeN54K544CR562J5b6F5ZCO6YeN6K+VIC0g6YCS5aKe5bu26L+f6YG/5YWN6aKR57mB6YeN6K+VXG4gICAgICAvLyDjgJDph43ngrnjgJHnrYnlvoXlkI7ph43or5UgLSDpgJLlop7lu7bov5/pgb/lhY3popHnuYHph43or5VcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwICogKGkgKyAxKSkpXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vLyDjgJDph43ngrnjgJHmlbDmja7lupPliJ3lp4vljJYgLSDliJvlu7rntKLlvJXkvJjljJbmn6Xor6LmgKfog71cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplRGF0YWJhc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGIgPSBhd2FpdCBnZXREYXRhYmFzZSgpIC8vIOiOt+WPluaVsOaNruW6k+WunuS+i1xuICAgIFxuICAgIC8vIOOAkOmHjeeCueOAkeWSqOivoumbhuWQiOe0ouW8lSAtIOS8mOWMluW4uOeUqOafpeivouWtl+auteeahOaAp+iDvVxuICAgIGNvbnN0IGlucXVpcmllc0luZGV4ZXMgPSBbXG4gICAgICB7IGtleTogeyBlbWFpbDogMSB9IH0sIC8vIOmCrueusee0ouW8le+8mueUqOS6juafpeaJvueJueWumueUqOaIt+eahOWSqOivolxuICAgICAgeyBrZXk6IHsgY3JlYXRlZEF0OiAtMSB9IH0sIC8vIOWIm+W7uuaXtumXtOWAkuW6j+e0ouW8le+8mueUqOS6juaMieaXtumXtOaOkuW6j1xuICAgICAgeyBrZXk6IHsgY291bnRyeTogMSB9IH0sIC8vIOWbveWutue0ouW8le+8mueUqOS6juWcsOWMuue7n+iuoVxuICAgICAgeyBrZXk6IHsgcHJvZHVjdEludGVyZXN0OiAxIH0gfSwgLy8g5Lqn5ZOB5YW06Laj57Si5byV77ya55So5LqO5Lqn5ZOB5YiG5p6QXG4gICAgICB7IGtleTogeyBzdGF0dXM6IDEgfSB9IC8vIOeKtuaAgee0ouW8le+8mueUqOS6juetm+mAieWkhOeQhueKtuaAgVxuICAgIF0gYXMgYW55XG4gICAgXG4gICAgY29uc3QgcHJvZHVjdHNJbmRleGVzID0gW1xuICAgICAgeyBrZXk6IHsgbmFtZTogJ3RleHQnLCBkZXNjcmlwdGlvbjogJ3RleHQnIH0gfSwgLy8g5YWo5paH5pCc57Si57Si5byV77ya5pSv5oyB5Lqn5ZOB5ZCN56ew5ZKM5o+P6L+w5pCc57SiXG4gICAgICB7IGtleTogeyBjYXRlZ29yeTogMSB9IH0sIC8vIOWIhuexu+e0ouW8le+8mueUqOS6juWIhuexu+etm+mAiVxuICAgICAgeyBrZXk6IHsgZmVhdHVyZWQ6IDEgfSB9LCAvLyDnibnoibLkuqflk4HntKLlvJXvvJrnlKjkuo7pppbpobXnibnoibLkuqflk4Hmn6Xor6JcbiAgICAgIHsga2V5OiB7IGFjdGl2ZTogMSB9IH0sIC8vIOa0u+i3g+eKtuaAgee0ouW8le+8mueUqOS6juetm+mAieWPr+eUqOS6p+WTgVxuICAgICAgeyBrZXk6IHsgc2x1ZzogMSB9LCB1bmlxdWU6IHRydWUgfSAvLyDllK/kuIBzbHVn57Si5byV77ya56Gu5L+dVVJM5qCH6K+G56ym5ZSv5LiA5oCnXG4gICAgXSBhcyBhbnlcbiAgICBcbiAgICAvLyDjgJDph43ngrnjgJHlubbooYzliJvlu7rntKLlvJUgLSDlkIzml7bkuLrlpJrkuKrpm4blkIjliJvlu7rntKLlvJXmj5Dpq5jmlYjnjodcbiAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBkYi5jb2xsZWN0aW9uKENPTExFQ1RJT05TLklOUVVJUklFUykuY3JlYXRlSW5kZXhlcyhpbnF1aXJpZXNJbmRleGVzKVxuICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUud2FybignRmFpbGVkIHRvIGNyZWF0ZSBpbnF1aXJpZXMgaW5kZXhlczonLCBlcnIpKSwgLy8g5ZKo6K+i6ZuG5ZCI57Si5byV5Yib5bu65aSx6LSl5aSE55CGXG4gICAgICBkYi5jb2xsZWN0aW9uKENPTExFQ1RJT05TLlBST0RVQ1RTKS5jcmVhdGVJbmRleGVzKHByb2R1Y3RzSW5kZXhlcylcbiAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBjcmVhdGUgcHJvZHVjdHMgaW5kZXhlczonLCBlcnIpKSAvLyDkuqflk4Hpm4blkIjntKLlvJXliJvlu7rlpLHotKXlpITnkIZcbiAgICBdKVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfinIUgRGF0YWJhc2UgaW5kZXhlcyBjcmVhdGVkIHN1Y2Nlc3NmdWxseScpIC8vIOe0ouW8leWIm+W7uuaIkOWKn1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIOOAkOmHjeeCueOAkeaVsOaNruW6k+WIneWni+WMlumUmeivr+WkhOeQhiAtIOmBv+WFjeW6lOeUqOW0qea6g1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBkYXRhYmFzZTonLCBlcnJvcilcbiAgICAvLyDkuI3mipvlh7rplJnor6/ku6XpmLLmraLlupTnlKjltKnmuoMgLSDlupTnlKjlj6/ku6XlnKjmsqHmnInntKLlvJXnmoTmg4XlhrXkuIvov5DooYxcbiAgICBjb25zb2xlLndhcm4oJ0RhdGFiYXNlIGluaXRpYWxpemF0aW9uIGZhaWxlZCwgY29udGludWluZyB3aXRob3V0IGluZGV4ZXMnKVxuICB9XG59Il0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwiY2hlY2tFbnZpcm9ubWVudCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSSSIsIkVycm9yIiwib3B0aW9ucyIsIm1heFBvb2xTaXplIiwic2VydmVyU2VsZWN0aW9uVGltZW91dE1TIiwic29ja2V0VGltZW91dE1TIiwiZmFtaWx5IiwidGxzIiwidGxzQWxsb3dJbnZhbGlkQ2VydGlmaWNhdGVzIiwidGxzQWxsb3dJbnZhbGlkSG9zdG5hbWVzIiwicmV0cnlXcml0ZXMiLCJyZXRyeVJlYWRzIiwiYXV0aFNvdXJjZSIsImNsaWVudCIsImNsaWVudFByb21pc2UiLCJpbml0aWFsaXplQ2xpZW50IiwidXJpIiwiZ2xvYmFsV2l0aE1vbmdvIiwiZ2xvYmFsIiwiX21vbmdvQ2xpZW50UHJvbWlzZSIsImNvbm5lY3QiLCJnZXRDbGllbnRQcm9taXNlIiwiZ2V0RGF0YWJhc2UiLCJkYiIsImVycm9yIiwiY29uc29sZSIsIkNPTExFQ1RJT05TIiwiSU5RVUlSSUVTIiwiUFJPRFVDVFMiLCJVU0VSUyIsIlNFVFRJTkdTIiwidGVzdENvbm5lY3Rpb24iLCJyZXRyaWVzIiwiaSIsImNvbW1hbmQiLCJwaW5nIiwibG9nIiwibWVzc2FnZSIsIndhcm4iLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJpbml0aWFsaXplRGF0YWJhc2UiLCJpbnF1aXJpZXNJbmRleGVzIiwia2V5IiwiZW1haWwiLCJjcmVhdGVkQXQiLCJjb3VudHJ5IiwicHJvZHVjdEludGVyZXN0Iiwic3RhdHVzIiwicHJvZHVjdHNJbmRleGVzIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiY2F0ZWdvcnkiLCJmZWF0dXJlZCIsImFjdGl2ZSIsInNsdWciLCJ1bmlxdWUiLCJhbGwiLCJjb2xsZWN0aW9uIiwiY3JlYXRlSW5kZXhlcyIsImNhdGNoIiwiZXJyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/rate-limiter.ts":
/*!*********************************!*\
  !*** ./src/lib/rate-limiter.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apiLimiter: () => (/* binding */ apiLimiter),\n/* harmony export */   contactFormLimiter: () => (/* binding */ contactFormLimiter),\n/* harmony export */   createRateLimitMiddleware: () => (/* binding */ createRateLimitMiddleware),\n/* harmony export */   generateCSRFToken: () => (/* binding */ generateCSRFToken),\n/* harmony export */   inquiryFormLimiter: () => (/* binding */ inquiryFormLimiter),\n/* harmony export */   isValidEmail: () => (/* binding */ isValidEmail),\n/* harmony export */   isValidIP: () => (/* binding */ isValidIP),\n/* harmony export */   isValidPhoneNumber: () => (/* binding */ isValidPhoneNumber),\n/* harmony export */   sanitizeFilename: () => (/* binding */ sanitizeFilename),\n/* harmony export */   sanitizeURL: () => (/* binding */ sanitizeURL),\n/* harmony export */   securityHeaders: () => (/* binding */ securityHeaders),\n/* harmony export */   validateCSRFToken: () => (/* binding */ validateCSRFToken),\n/* harmony export */   validatePasswordStrength: () => (/* binding */ validatePasswordStrength)\n/* harmony export */ });\n// Rate limiting utility for API endpoints\nclass RateLimiter {\n    constructor(config){\n        this.store = {};\n        this.config = config;\n        // Clean up expired entries every 5 minutes\n        setInterval(()=>{\n            this.cleanup();\n        }, 5 * 60 * 1000);\n    }\n    cleanup() {\n        const now = Date.now();\n        Object.keys(this.store).forEach((key)=>{\n            if (this.store[key].resetTime <= now) {\n                delete this.store[key];\n            }\n        });\n    }\n    getKey(request) {\n        if (this.config.keyGenerator) {\n            return this.config.keyGenerator(request);\n        }\n        // Default key: IP address\n        return request.ip || request.headers.get(\"x-forwarded-for\") || request.headers.get(\"x-real-ip\") || \"unknown\";\n    }\n    check(request) {\n        const key = this.getKey(request);\n        const now = Date.now();\n        const resetTime = now + this.config.windowMs;\n        // Initialize or reset if window expired\n        if (!this.store[key] || this.store[key].resetTime <= now) {\n            this.store[key] = {\n                count: 0,\n                resetTime\n            };\n        }\n        const current = this.store[key];\n        const allowed = current.count < this.config.maxRequests;\n        if (allowed) {\n            current.count++;\n        }\n        return {\n            allowed,\n            limit: this.config.maxRequests,\n            remaining: Math.max(0, this.config.maxRequests - current.count),\n            resetTime: current.resetTime\n        };\n    }\n}\n// Pre-configured rate limiters\nconst contactFormLimiter = new RateLimiter({\n    windowMs: 15 * 60 * 1000,\n    maxRequests: 5\n});\nconst inquiryFormLimiter = new RateLimiter({\n    windowMs: 15 * 60 * 1000,\n    maxRequests: 10\n});\nconst apiLimiter = new RateLimiter({\n    windowMs: 1 * 60 * 1000,\n    maxRequests: 60\n});\n// Rate limit middleware factory\nfunction createRateLimitMiddleware(limiter) {\n    return (request)=>{\n        const result = limiter.check(request);\n        if (!result.allowed) {\n            const resetTimeSeconds = Math.ceil((result.resetTime - Date.now()) / 1000);\n            throw new Error(`Rate limit exceeded. Try again in ${resetTimeSeconds} seconds.`);\n        }\n        return result;\n    };\n}\n// CSRF protection\nfunction generateCSRFToken() {\n    const array = new Uint8Array(32);\n    crypto.getRandomValues(array);\n    return Array.from(array, (byte)=>byte.toString(16).padStart(2, \"0\")).join(\"\");\n}\nfunction validateCSRFToken(token, sessionToken) {\n    if (!token || !sessionToken) return false;\n    return token === sessionToken;\n}\n// Input sanitization helpers\nfunction sanitizeFilename(filename) {\n    return filename.replace(/[^a-zA-Z0-9.-]/g, \"_\").replace(/^\\.+/, \"\").replace(/\\.+$/, \"\").substring(0, 255);\n}\nfunction sanitizeURL(url) {\n    try {\n        const parsed = new URL(url);\n        // Only allow http and https protocols\n        if (![\n            \"http:\",\n            \"https:\"\n        ].includes(parsed.protocol)) {\n            throw new Error(\"Invalid protocol\");\n        }\n        return parsed.toString();\n    } catch  {\n        throw new Error(\"Invalid URL\");\n    }\n}\nfunction isValidEmail(email) {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email) && email.length <= 254;\n}\nfunction isValidPhoneNumber(phone) {\n    // Basic international phone number validation\n    const phoneRegex = /^[+]?[\\d\\s\\-\\(\\)]{7,20}$/;\n    return phoneRegex.test(phone);\n}\n// Content Security Policy headers\nconst securityHeaders = {\n    \"X-Frame-Options\": \"DENY\",\n    \"X-Content-Type-Options\": \"nosniff\",\n    \"Referrer-Policy\": \"origin-when-cross-origin\",\n    \"X-DNS-Prefetch-Control\": \"on\",\n    \"Strict-Transport-Security\": \"max-age=31536000; includeSubDomains\",\n    \"Permissions-Policy\": \"geolocation=(), microphone=(), camera=()\",\n    \"Content-Security-Policy\": \"default-src 'self'; \" + \"script-src 'self' 'unsafe-inline' 'unsafe-eval'; \" + \"style-src 'self' 'unsafe-inline'; \" + \"img-src 'self' data: https:; \" + \"font-src 'self'; \" + \"connect-src 'self'; \" + \"frame-ancestors 'none';\"\n};\n// IP address validation\nfunction isValidIP(ip) {\n    const ipv4Regex = /^(\\d{1,3}\\.){3}\\d{1,3}$/;\n    const ipv6Regex = /^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/;\n    return ipv4Regex.test(ip) || ipv6Regex.test(ip);\n}\n// Password strength validation\nfunction validatePasswordStrength(password) {\n    const issues = [];\n    let score = 0;\n    if (password.length < 8) {\n        issues.push(\"Password must be at least 8 characters long\");\n    } else {\n        score += 1;\n    }\n    if (!/[a-z]/.test(password)) {\n        issues.push(\"Password must contain at least one lowercase letter\");\n    } else {\n        score += 1;\n    }\n    if (!/[A-Z]/.test(password)) {\n        issues.push(\"Password must contain at least one uppercase letter\");\n    } else {\n        score += 1;\n    }\n    if (!/\\d/.test(password)) {\n        issues.push(\"Password must contain at least one number\");\n    } else {\n        score += 1;\n    }\n    if (!/[!@#$%^&*(),.?\":{}|<>]/.test(password)) {\n        issues.push(\"Password must contain at least one special character\");\n    } else {\n        score += 1;\n    }\n    return {\n        isValid: issues.length === 0,\n        score,\n        issues\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d2VsbC1saS1jYXNlcy8uL3NyYy9saWIvcmF0ZS1saW1pdGVyLnRzPzFiYWIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gUmF0ZSBsaW1pdGluZyB1dGlsaXR5IGZvciBBUEkgZW5kcG9pbnRzXHJcblxyXG5pbnRlcmZhY2UgUmF0ZUxpbWl0Q29uZmlnIHtcclxuICB3aW5kb3dNczogbnVtYmVyIC8vIFRpbWUgd2luZG93IGluIG1pbGxpc2Vjb25kc1xyXG4gIG1heFJlcXVlc3RzOiBudW1iZXIgLy8gTWF4aW11bSByZXF1ZXN0cyBwZXIgd2luZG93XHJcbiAga2V5R2VuZXJhdG9yPzogKHJlcXVlc3Q6IGFueSkgPT4gc3RyaW5nIC8vIEN1c3RvbSBrZXkgZ2VuZXJhdG9yXHJcbiAgc2tpcFN1Y2Nlc3NmdWxSZXF1ZXN0cz86IGJvb2xlYW5cclxuICBza2lwRmFpbGVkUmVxdWVzdHM/OiBib29sZWFuXHJcbn1cclxuXHJcbmludGVyZmFjZSBSYXRlTGltaXRTdG9yZSB7XHJcbiAgW2tleTogc3RyaW5nXToge1xyXG4gICAgY291bnQ6IG51bWJlclxyXG4gICAgcmVzZXRUaW1lOiBudW1iZXJcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFJhdGVMaW1pdGVyIHtcclxuICBwcml2YXRlIHN0b3JlOiBSYXRlTGltaXRTdG9yZSA9IHt9XHJcbiAgcHJpdmF0ZSBjb25maWc6IFJhdGVMaW1pdENvbmZpZ1xyXG5cclxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFJhdGVMaW1pdENvbmZpZykge1xyXG4gICAgdGhpcy5jb25maWcgPSBjb25maWdcclxuICAgIFxyXG4gICAgLy8gQ2xlYW4gdXAgZXhwaXJlZCBlbnRyaWVzIGV2ZXJ5IDUgbWludXRlc1xyXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsZWFudXAoKVxyXG4gICAgfSwgNSAqIDYwICogMTAwMClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2xlYW51cCgpIHtcclxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KClcclxuICAgIE9iamVjdC5rZXlzKHRoaXMuc3RvcmUpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgaWYgKHRoaXMuc3RvcmVba2V5XS5yZXNldFRpbWUgPD0gbm93KSB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuc3RvcmVba2V5XVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRLZXkocmVxdWVzdDogYW55KTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLmNvbmZpZy5rZXlHZW5lcmF0b3IpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmtleUdlbmVyYXRvcihyZXF1ZXN0KVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBEZWZhdWx0IGtleTogSVAgYWRkcmVzc1xyXG4gICAgcmV0dXJuIHJlcXVlc3QuaXAgfHwgXHJcbiAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJykgfHwgXHJcbiAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzLmdldCgneC1yZWFsLWlwJykgfHwgXHJcbiAgICAgICAgICAgJ3Vua25vd24nXHJcbiAgfVxyXG5cclxuICBjaGVjayhyZXF1ZXN0OiBhbnkpOiB7IGFsbG93ZWQ6IGJvb2xlYW47IGxpbWl0OiBudW1iZXI7IHJlbWFpbmluZzogbnVtYmVyOyByZXNldFRpbWU6IG51bWJlciB9IHtcclxuICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0S2V5KHJlcXVlc3QpXHJcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXHJcbiAgICBjb25zdCByZXNldFRpbWUgPSBub3cgKyB0aGlzLmNvbmZpZy53aW5kb3dNc1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgb3IgcmVzZXQgaWYgd2luZG93IGV4cGlyZWRcclxuICAgIGlmICghdGhpcy5zdG9yZVtrZXldIHx8IHRoaXMuc3RvcmVba2V5XS5yZXNldFRpbWUgPD0gbm93KSB7XHJcbiAgICAgIHRoaXMuc3RvcmVba2V5XSA9IHtcclxuICAgICAgICBjb3VudDogMCxcclxuICAgICAgICByZXNldFRpbWVcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLnN0b3JlW2tleV1cclxuICAgIGNvbnN0IGFsbG93ZWQgPSBjdXJyZW50LmNvdW50IDwgdGhpcy5jb25maWcubWF4UmVxdWVzdHNcclxuXHJcbiAgICBpZiAoYWxsb3dlZCkge1xyXG4gICAgICBjdXJyZW50LmNvdW50KytcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhbGxvd2VkLFxyXG4gICAgICBsaW1pdDogdGhpcy5jb25maWcubWF4UmVxdWVzdHMsXHJcbiAgICAgIHJlbWFpbmluZzogTWF0aC5tYXgoMCwgdGhpcy5jb25maWcubWF4UmVxdWVzdHMgLSBjdXJyZW50LmNvdW50KSxcclxuICAgICAgcmVzZXRUaW1lOiBjdXJyZW50LnJlc2V0VGltZVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gUHJlLWNvbmZpZ3VyZWQgcmF0ZSBsaW1pdGVyc1xyXG5leHBvcnQgY29uc3QgY29udGFjdEZvcm1MaW1pdGVyID0gbmV3IFJhdGVMaW1pdGVyKHtcclxuICB3aW5kb3dNczogMTUgKiA2MCAqIDEwMDAsIC8vIDE1IG1pbnV0ZXNcclxuICBtYXhSZXF1ZXN0czogNSwgLy8gNSByZXF1ZXN0cyBwZXIgMTUgbWludXRlc1xyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IGlucXVpcnlGb3JtTGltaXRlciA9IG5ldyBSYXRlTGltaXRlcih7XHJcbiAgd2luZG93TXM6IDE1ICogNjAgKiAxMDAwLCAvLyAxNSBtaW51dGVzXHJcbiAgbWF4UmVxdWVzdHM6IDEwLCAvLyAxMCByZXF1ZXN0cyBwZXIgMTUgbWludXRlc1xyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IGFwaUxpbWl0ZXIgPSBuZXcgUmF0ZUxpbWl0ZXIoe1xyXG4gIHdpbmRvd01zOiAxICogNjAgKiAxMDAwLCAvLyAxIG1pbnV0ZVxyXG4gIG1heFJlcXVlc3RzOiA2MCwgLy8gNjAgcmVxdWVzdHMgcGVyIG1pbnV0ZVxyXG59KVxyXG5cclxuLy8gUmF0ZSBsaW1pdCBtaWRkbGV3YXJlIGZhY3RvcnlcclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJhdGVMaW1pdE1pZGRsZXdhcmUobGltaXRlcjogUmF0ZUxpbWl0ZXIpIHtcclxuICByZXR1cm4gKHJlcXVlc3Q6IGFueSkgPT4ge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gbGltaXRlci5jaGVjayhyZXF1ZXN0KVxyXG4gICAgXHJcbiAgICBpZiAoIXJlc3VsdC5hbGxvd2VkKSB7XHJcbiAgICAgIGNvbnN0IHJlc2V0VGltZVNlY29uZHMgPSBNYXRoLmNlaWwoKHJlc3VsdC5yZXNldFRpbWUgLSBEYXRlLm5vdygpKSAvIDEwMDApXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUmF0ZSBsaW1pdCBleGNlZWRlZC4gVHJ5IGFnYWluIGluICR7cmVzZXRUaW1lU2Vjb25kc30gc2Vjb25kcy5gKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gcmVzdWx0XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDU1JGIHByb3RlY3Rpb25cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQ1NSRlRva2VuKCk6IHN0cmluZyB7XHJcbiAgY29uc3QgYXJyYXkgPSBuZXcgVWludDhBcnJheSgzMilcclxuICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGFycmF5KVxyXG4gIHJldHVybiBBcnJheS5mcm9tKGFycmF5LCBieXRlID0+IGJ5dGUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpLmpvaW4oJycpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUNTUkZUb2tlbih0b2tlbjogc3RyaW5nLCBzZXNzaW9uVG9rZW46IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIGlmICghdG9rZW4gfHwgIXNlc3Npb25Ub2tlbikgcmV0dXJuIGZhbHNlXHJcbiAgcmV0dXJuIHRva2VuID09PSBzZXNzaW9uVG9rZW5cclxufVxyXG5cclxuLy8gSW5wdXQgc2FuaXRpemF0aW9uIGhlbHBlcnNcclxuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplRmlsZW5hbWUoZmlsZW5hbWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIGZpbGVuYW1lXHJcbiAgICAucmVwbGFjZSgvW15hLXpBLVowLTkuLV0vZywgJ18nKVxyXG4gICAgLnJlcGxhY2UoL15cXC4rLywgJycpXHJcbiAgICAucmVwbGFjZSgvXFwuKyQvLCAnJylcclxuICAgIC5zdWJzdHJpbmcoMCwgMjU1KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVVUkwodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwYXJzZWQgPSBuZXcgVVJMKHVybClcclxuICAgIC8vIE9ubHkgYWxsb3cgaHR0cCBhbmQgaHR0cHMgcHJvdG9jb2xzXHJcbiAgICBpZiAoIVsnaHR0cDonLCAnaHR0cHM6J10uaW5jbHVkZXMocGFyc2VkLnByb3RvY29sKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcHJvdG9jb2wnKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhcnNlZC50b1N0cmluZygpXHJcbiAgfSBjYXRjaCB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgVVJMJylcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkRW1haWwoZW1haWw6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskL1xyXG4gIHJldHVybiBlbWFpbFJlZ2V4LnRlc3QoZW1haWwpICYmIGVtYWlsLmxlbmd0aCA8PSAyNTRcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRQaG9uZU51bWJlcihwaG9uZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgLy8gQmFzaWMgaW50ZXJuYXRpb25hbCBwaG9uZSBudW1iZXIgdmFsaWRhdGlvblxyXG4gIGNvbnN0IHBob25lUmVnZXggPSAvXlsrXT9bXFxkXFxzXFwtXFwoXFwpXXs3LDIwfSQvXHJcbiAgcmV0dXJuIHBob25lUmVnZXgudGVzdChwaG9uZSlcclxufVxyXG5cclxuLy8gQ29udGVudCBTZWN1cml0eSBQb2xpY3kgaGVhZGVyc1xyXG5leHBvcnQgY29uc3Qgc2VjdXJpdHlIZWFkZXJzID0ge1xyXG4gICdYLUZyYW1lLU9wdGlvbnMnOiAnREVOWScsXHJcbiAgJ1gtQ29udGVudC1UeXBlLU9wdGlvbnMnOiAnbm9zbmlmZicsXHJcbiAgJ1JlZmVycmVyLVBvbGljeSc6ICdvcmlnaW4td2hlbi1jcm9zcy1vcmlnaW4nLFxyXG4gICdYLUROUy1QcmVmZXRjaC1Db250cm9sJzogJ29uJyxcclxuICAnU3RyaWN0LVRyYW5zcG9ydC1TZWN1cml0eSc6ICdtYXgtYWdlPTMxNTM2MDAwOyBpbmNsdWRlU3ViRG9tYWlucycsXHJcbiAgJ1Blcm1pc3Npb25zLVBvbGljeSc6ICdnZW9sb2NhdGlvbj0oKSwgbWljcm9waG9uZT0oKSwgY2FtZXJhPSgpJyxcclxuICAnQ29udGVudC1TZWN1cml0eS1Qb2xpY3knOiBcclxuICAgIFwiZGVmYXVsdC1zcmMgJ3NlbGYnOyBcIiArXHJcbiAgICBcInNjcmlwdC1zcmMgJ3NlbGYnICd1bnNhZmUtaW5saW5lJyAndW5zYWZlLWV2YWwnOyBcIiArXHJcbiAgICBcInN0eWxlLXNyYyAnc2VsZicgJ3Vuc2FmZS1pbmxpbmUnOyBcIiArXHJcbiAgICBcImltZy1zcmMgJ3NlbGYnIGRhdGE6IGh0dHBzOjsgXCIgK1xyXG4gICAgXCJmb250LXNyYyAnc2VsZic7IFwiICtcclxuICAgIFwiY29ubmVjdC1zcmMgJ3NlbGYnOyBcIiArXHJcbiAgICBcImZyYW1lLWFuY2VzdG9ycyAnbm9uZSc7XCJcclxufVxyXG5cclxuLy8gSVAgYWRkcmVzcyB2YWxpZGF0aW9uXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkSVAoaXA6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IGlwdjRSZWdleCA9IC9eKFxcZHsxLDN9XFwuKXszfVxcZHsxLDN9JC9cclxuICBjb25zdCBpcHY2UmVnZXggPSAvXihbMC05YS1mQS1GXXsxLDR9Oil7N31bMC05YS1mQS1GXXsxLDR9JC9cclxuICByZXR1cm4gaXB2NFJlZ2V4LnRlc3QoaXApIHx8IGlwdjZSZWdleC50ZXN0KGlwKVxyXG59XHJcblxyXG4vLyBQYXNzd29yZCBzdHJlbmd0aCB2YWxpZGF0aW9uXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVBhc3N3b3JkU3RyZW5ndGgocGFzc3dvcmQ6IHN0cmluZyk6IHtcclxuICBpc1ZhbGlkOiBib29sZWFuXHJcbiAgc2NvcmU6IG51bWJlclxyXG4gIGlzc3Vlczogc3RyaW5nW11cclxufSB7XHJcbiAgY29uc3QgaXNzdWVzOiBzdHJpbmdbXSA9IFtdXHJcbiAgbGV0IHNjb3JlID0gMFxyXG5cclxuICBpZiAocGFzc3dvcmQubGVuZ3RoIDwgOCkge1xyXG4gICAgaXNzdWVzLnB1c2goJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgOCBjaGFyYWN0ZXJzIGxvbmcnKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBzY29yZSArPSAxXHJcbiAgfVxyXG5cclxuICBpZiAoIS9bYS16XS8udGVzdChwYXNzd29yZCkpIHtcclxuICAgIGlzc3Vlcy5wdXNoKCdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGxvd2VyY2FzZSBsZXR0ZXInKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBzY29yZSArPSAxXHJcbiAgfVxyXG5cclxuICBpZiAoIS9bQS1aXS8udGVzdChwYXNzd29yZCkpIHtcclxuICAgIGlzc3Vlcy5wdXNoKCdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIHVwcGVyY2FzZSBsZXR0ZXInKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBzY29yZSArPSAxXHJcbiAgfVxyXG5cclxuICBpZiAoIS9cXGQvLnRlc3QocGFzc3dvcmQpKSB7XHJcbiAgICBpc3N1ZXMucHVzaCgnUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBudW1iZXInKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBzY29yZSArPSAxXHJcbiAgfVxyXG5cclxuICBpZiAoIS9bIUAjJCVeJiooKSwuP1wiOnt9fDw+XS8udGVzdChwYXNzd29yZCkpIHtcclxuICAgIGlzc3Vlcy5wdXNoKCdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIHNwZWNpYWwgY2hhcmFjdGVyJylcclxuICB9IGVsc2Uge1xyXG4gICAgc2NvcmUgKz0gMVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGlzVmFsaWQ6IGlzc3Vlcy5sZW5ndGggPT09IDAsXHJcbiAgICBzY29yZSxcclxuICAgIGlzc3Vlc1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJSYXRlTGltaXRlciIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwic3RvcmUiLCJzZXRJbnRlcnZhbCIsImNsZWFudXAiLCJub3ciLCJEYXRlIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJyZXNldFRpbWUiLCJnZXRLZXkiLCJyZXF1ZXN0Iiwia2V5R2VuZXJhdG9yIiwiaXAiLCJoZWFkZXJzIiwiZ2V0IiwiY2hlY2siLCJ3aW5kb3dNcyIsImNvdW50IiwiY3VycmVudCIsImFsbG93ZWQiLCJtYXhSZXF1ZXN0cyIsImxpbWl0IiwicmVtYWluaW5nIiwiTWF0aCIsIm1heCIsImNvbnRhY3RGb3JtTGltaXRlciIsImlucXVpcnlGb3JtTGltaXRlciIsImFwaUxpbWl0ZXIiLCJjcmVhdGVSYXRlTGltaXRNaWRkbGV3YXJlIiwibGltaXRlciIsInJlc3VsdCIsInJlc2V0VGltZVNlY29uZHMiLCJjZWlsIiwiRXJyb3IiLCJnZW5lcmF0ZUNTUkZUb2tlbiIsImFycmF5IiwiVWludDhBcnJheSIsImNyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsIkFycmF5IiwiZnJvbSIsImJ5dGUiLCJ0b1N0cmluZyIsInBhZFN0YXJ0Iiwiam9pbiIsInZhbGlkYXRlQ1NSRlRva2VuIiwidG9rZW4iLCJzZXNzaW9uVG9rZW4iLCJzYW5pdGl6ZUZpbGVuYW1lIiwiZmlsZW5hbWUiLCJyZXBsYWNlIiwic3Vic3RyaW5nIiwic2FuaXRpemVVUkwiLCJ1cmwiLCJwYXJzZWQiLCJVUkwiLCJpbmNsdWRlcyIsInByb3RvY29sIiwiaXNWYWxpZEVtYWlsIiwiZW1haWwiLCJlbWFpbFJlZ2V4IiwidGVzdCIsImxlbmd0aCIsImlzVmFsaWRQaG9uZU51bWJlciIsInBob25lIiwicGhvbmVSZWdleCIsInNlY3VyaXR5SGVhZGVycyIsImlzVmFsaWRJUCIsImlwdjRSZWdleCIsImlwdjZSZWdleCIsInZhbGlkYXRlUGFzc3dvcmRTdHJlbmd0aCIsInBhc3N3b3JkIiwiaXNzdWVzIiwic2NvcmUiLCJwdXNoIiwiaXNWYWxpZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/rate-limiter.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/nodemailer"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcontact%2Froute&page=%2Fapi%2Fcontact%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontact%2Froute.ts&appDir=E%3A%5Cnanuk%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cnanuk&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();